/*! 
* WeX5 v3 (http://www.justep.com) 
* Copyright 2015 Justep, Inc.
* Licensed under Apache License, Version 2.0 (http://www.apache.org/licenses/LICENSE-2.0) 
*/

/*! 
* BeX5 v3 (http://www.justep.com) 
* Copyright 2015 Justep, Inc.
*/

/*! 
 * WeX5 v3 (http://www.justep.com) 
 * Copyright 2015 Justep, Inc.
 * Licensed under Apache License, Version 2.0 (http://www.apache.org/licenses/LICENSE-2.0) 
 */

define("$model/UI2/system/components/justep/window/designer/window",["require","jquery","../window","$UI/system/components/designerCommon/js/xuiService"],function(e){var t=e("jquery"),n=e("../window"),r=e("$UI/system/components/designerCommon/js/xuiService"),i=r.getXuiDoc(),s="$UI/system/designer/webIde/editors/fileSelector/fileSelector.w",o=n.extend({init:function(e,t){this.$domNode.css("width","100%").css("height","100%").attr("d_canAddChild","true").attr("d_canRemove","false"),this.callParent(e,t),this.$domNode.css("backgroundImage")&&(this.$domNode.css("backgroundImage","url("+this.buildSrc(this.$domNode.css("backgroundImage"))+")"),this.$domNode.css("backgroundSize","cover"))},initTitle:function(){},propertyChangedHandler:function(e,t,n){if(e==="title")return;this.callParent(e,t,n)},set:function(e){"backgroundImage"in e&&(e["backgroundImage"]==""?this.$domNode.css("backgroundImage",""):(this.$domNode.css("backgroundImage","url("+this.buildSrc(e.backgroundImage)+")"),this.$domNode.css("backgroundSize","cover")))},buildSrc:function(t){return t&&t.indexOf("$UI")!=-1&&(t=e.toUrl(t)),t||""},getResource:function(){var e=i.dataModel.$root.find("resource:first")[0];return e||this.addDir(),e=i.dataModel.$root.find("resource:first")[0],e},addJS:function(e){var t=this.getResource();r.openPage(s,{title:"js文件选择",width:480,extName:"js"},function(e){var n=e.value;if(n){var r=n.lastIndexOf(".");if("js"!=n.substring(r+1)){alert("必须选择一个js文件");return}n=n.substring(0,r);var s='<require   url="'+n+'"></require>';i.createComponent("$/UI2/system/components/justep/resource#require",t.getAttribute("d_id"),{templateContent:s,paintComponent:!0})}})},addCSS:function(e){var t=this.getResource();r.openPage(s,{title:"css文件选择",width:480,extName:"css"},function(e){var n=e.value;if(n){var r=n.lastIndexOf(".");if("css"!=n.substring(r+1)){alert("必须选择一个css文件");return}n=n.substring(0,r);var s='<require   url="css!'+n+'"></require>';i.createComponent("$/UI2/system/components/justep/resource#require",t.getAttribute("d_id"),{templateContent:s,paintComponent:!0})}})},addCordovaPlugin:function(){var e=this.getResource();r.openPage("$UI/system/components/justep/resource/designer/selectCordovaPlugins.w",{title:"cordova插件选择"},function(t){var n=t;if(n){n=n.split(",");var r=[];for(var s=0;s<n.length;s+=1){var o='<require   url="cordova!'+n[s]+'"></require>';i.createComponent("$/UI2/system/components/justep/resource#require",e.getAttribute("d_id"),{templateContent:o,paintComponent:!0})}}})},addWFileRef:function(){var e=this.getResource();r.openPage(s,{title:"w文件选择",width:480,extName:"w,html"},function(t){var n=t.value;if(n){var r=n.lastIndexOf(".");if("w"!=n.substring(r+1)&&"html"!=n.substring(r+1)){alert("必须选择一个w文件");return}n=n.substring(0,r);var s='<require   url="w!'+n+'"></require>';i.createComponent("$/UI2/system/components/justep/resource#require",e.getAttribute("d_id"),{templateContent:s,paintComponent:!0})}})},addDir:function(){i.createComponent("$/UI2/system/components/justep/resource",this,{paintComponent:!0})},addResource:function(e){i.createComponent("$/UI2/system/components/justep/resource",this,{paintComponent:!0})},addData:function(e){}}),u={"$UI/system/components/justep/button/toggle":{styleConfig:function(e){return[e.getCommonStyleItem("toggle-size"),e.getCommonStyleItem("position")]}},"$UI/system/components/justep/button/radioPC":{styleConfig:function(e){return[{text:"排列样式",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,selectMode:"0",optionData:[{propName:"class",value:"radio-inline",text:"<button class='btn btn-default' style='margin:6px'>行内样式</button>"}],editor:"listEditor"}]},e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("position")]}},"$UI/system/components/justep/button/checkboxPC":{styleConfig:function(e){return[{text:"排列样式",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,selectMode:"0",optionData:[{propName:"class",value:"checkbox-inline",text:"<button class='btn btn-default' style='margin:6px'>行内样式</button>"}],editor:"listEditor"}]},e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("position")]}},"$UI/system/components/justep/button/buttonGroup":{styleConfig:function(e){return[e.getCommonStyleItem("btn-group-size"),{text:"排列方式",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,selectMode:"0",optionData:[{propName:"class",value:"btn-group-vertical",text:"<button class='btn btn-default' style='margin:6px'>垂直布局</button>"},{propName:"class",value:"btn-group-justified",text:"<button class='btn btn-default' style='margin:6px'>两端对齐</button>"}],editor:"listEditor"}]},e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("position")]}}},a={"$UI/system/components/justep/window/window":{displaySubComp:!0,operations:function(){return[{groupName:"页面操作",items:[{name:"close",label:"关闭"}]}]},properties:[{name:"extends",editor:"pageUrlEditor"},{name:"title",editor:"jsExpressionEX"},{name:"backgroundImage",text:"背景图片",editor:"imgSelector"}],toolbar:[{text:"页面参数设置",method:function(e,n,r){var s={},o=n.callDesignerMethod("getModelNode",e),u=t(o).children('[component="$UI/system/components/justep/model/model"]');if(u.size()>0){var a=u.attr("d_id");s.xml=n.callDesignerMethod("toHtml",u[0]),n.openEditorDialog({params:s,url:"$UI/system/components/justep/model/designer/editParam.w",callback:function(e){setTimeout(function(){i.replaceChild(a,e.def.join(""),{paintComponent:!1,jqCondition:"param"})},400)}})}else alert("缺少model定义")}}],displayName:function(e){return"页面"},styleConfig:function(e){},getSubCompConfig:function(e){var t=e.getAttribute("componentname");if(e.parentNode&&e.parentNode.getAttribute("componentname")=="$UI/system/components/justep/model/model")return this.subComps[t]},subComps:{"$UI/system/components/justep/model/model":{canRemove:!1,properties:[{name:"onModelConstruct",editor:"eventEditor",text:"页面创建时",noLabel:!0},{name:"onModelConstructDone",editor:"eventEditor",text:"页面创建完成",noLabel:!0},{name:"onLoad",editor:"eventEditor",noLabel:!0,text:"页面加载完成"},{name:"onParamsReceive",editor:"eventEditor",noLabel:!0,text:"参数接收事件"},{name:"onInactive",editor:"eventEditor",text:"页面离开",noLabel:!0},{name:"onunLoad",editor:"eventEditor",noLabel:!0,text:"页面关闭时"}],displayName:function(e){return"页面事件"}}}}};return{"$UI/system/components/justep/window/window":o,quickIdeEx:a,webIdeEx:u}}),define("$model/UI2/system/components/justep/model/designer/model",["require","jquery","../model","css!./css/model","$UI/system/components/designerCommon/js/xuiService"],function(e){var t=e("jquery"),n=e("../model");e("css!./css/model").load();var r=e("$UI/system/components/designerCommon/js/xuiService"),i=r.getXuiDoc(),s=n.extend({init:function(n,r){this.$domNode=t(this.domNode),this.ownerDesigner.isQuickIde&&this.$domNode.attr("d_resizable","false");var i=e.toUrl("$UI/system/components/justep/model/designer/img/minimize.gif");this.$domNode.addClass("xui-model").attr("d_showcomptip","false").prepend("<div class='xui-model-title'><span>数据</span><a  title='收缩' style='float:right;margin-top:-2px;'><img src='"+i+"'/></a></div>"),this.domNode.style.position="absolute",this.domNode.style.top||(this.domNode.style.top="10px",this.domNode.style.left="10px"),this.domNode.style.height="auto",this.callParent(n,r);var s=this,o=this.$domNode.attr("d_canRemove","false").find(">.xui-model-title:first").attr("title","数据");o.find(">a").on("click",function(){s.setExpand(s.$domNode.hasClass("xui-model-close")),s.ownerDesigner.reSelectAll()}),s.setExpand(!1),this.$domNode.on("childChanged",function(e,t){t&&t.type=="add"&&s.setExpand(!0)})},setExpand:function(e){e?(this.$domNode.removeClass("xui-model-close"),this.$domNode.find("span").show(),this.$domNode.find("a").attr("title","收缩")):(this.$domNode.addClass("xui-model-close"),this.$domNode.find("span").hide(),this.$domNode.find("a").attr("title","展开"))},set:function(e){"xid"in e&&this.$domNode.children(".xui-model-title").text(e.xid)},hide:function(){this.ownerDesigner.unSelection(this.$domNode[0]),this.$domNode.hide()},show:function(){this.$domNode.show(),this.ownerDesigner.setSelection(this.$domNode[0])},addBizData:function(e){var t=this;i.createComponent("$UI/system/components/justep/data/bizData",this,{paintComponent:!0},function(){t.setExpand(!0),t.ownerDesigner.reSelect(t.domNode,!0)})},addRestData:function(e){var t=this;i.createComponent("$UI/system/components/justep/data/restData",this,{paintComponent:!0},function(){t.ownerDesigner.reSelect(t.domNode,!0)})},addData:function(e){var t=this;i.createComponent("$UI/system/components/justep/data/data",this,{paintComponent:!0},function(){t.setExpand(!0),t.ownerDesigner.reSelect(t.domNode,!0)})}}),o={"$UI/system/components/justep/model/model":{displayName:function(){return"数据"},toolbar:[{text:"添加静态数据",method:"addData"},{text:"添加动态数据",visible:function(e){return e.isQuickIde?!0:!1},method:function(e,t,n){var r={};r.modelXml=t.callDesignerMethod("getModelXml"),r.mainModel=t,r.propName="xid",t.openEditorDialog({params:r,url:"$UI/system/designer/webIde/quickIde/propPages/dataSetting/chooseData.w",callback:function(e){setTimeout(function(){if(e.xid){var n=t.callDesignerMethod("getElementByXid",e.xid);n&&t.callDesignerMethod("setSelectionByIds",{ids:[n.getAttribute("d_id")]})}},400)}})}},{text:"添加统计数据",visible:function(e){return e.isQuickIde?!0:!1},method:function(e,t,n){var r={};r.modelXml=t.callDesignerMethod("getModelXml"),r.mainModel=t,r.propName="xid",t.openEditorDialog({params:r,url:"$UI/system/components/justep/data/designer/dlg/aggregateData.w",callback:function(e){setTimeout(function(){if(e.xid){var n=t.callDesignerMethod("getElementByXid",e.xid);n&&t.callDesignerMethod("setSelectionByIds",{ids:[n.getAttribute("d_id")]})}},400)}})}}],subComps:{}}};return{"$UI/system/components/justep/model/model":s,quickIdeEx:o}}),define("$model/UI2/system/components/justep/data/designer/data",["require","jquery","bind","$UI/system/lib/base/component","../data","$UI/system/components/designerCommon/js/xuiService","css!./css/data"],function(e){var t=e("jquery"),n=e("bind"),r=e("$UI/system/lib/base/component"),i=e("../data"),s=e("$UI/system/components/designerCommon/js/xuiService"),o=s.getXuiDoc();e("css!./css/data").load();var u=function(e,n){var r=t(e.domNode),s=r.attr("xid"),o=e.getModel();i.registerData(o,s,e);var u=e.domNode.getAttribute("label")||s||"data";r.empty().css("height","22px").css("display","block").addClass(n).append("<img align='absmiddle' style='width:16px;height:18px;'/><span>"+u+"</span>"),o.resolvedComponent(s)},a=function(n,r){if("xid"in r||"label"in r){var s="xid"in r?"xid":"label",o=t(n.domNode),u=o.attr(s);i.unRegisterData(n.getModel(),u),i.registerData(n.getModel(),r[s],n),o.children("span").text(r[s]?r[s]:"")}},f=function(e){var n=[];return t(e).children("column").each(function(){var e=t(this);n.push({alias:e.attr("name"),"data-type":e.attr("type"),label:e.attr("label")})}),n},l=function(e,t){var n=o.getEditorDataSource("RuleRelationDatasource.getDatasource",null,t.d_id)||f(t.nodeXml);s.openPage("$UI/system/components/justep/data/designer/editRule.w",{title:"data规则编辑",xml:t.nodeXml,d_id:t.d_id,cols:n},function(t){o.replaceChild(e,t.def,{xpathCondition:"*[local-name()='rule']",jqCondition:"rule",paintComponent:!1})})},c=function(e,n){var r=e.getModel(),i={},u=r.getExtendTypes?r.getExtendTypes():[];t.each(u,function(e,t){i[e]={name:t.name,dataType:t.dataType,editor:t.editor}});var a=o.getEditorDataSource("RuleRelationDatasource.getDatasource",null,n.d_id)||f(n.nodeXml);s.openPage("$UI/system/components/justep/data/designer/editExtendType.w",{title:"data扩展类型设置",xml:n.nodeXml,d_id:n.d_id,extendTypes:i,cols:a},function(t){o.replaceChild(e,t.def,{xpathCondition:"*[local-name()='extendType']",jqCondition:"extendType",paintComponent:!1})})},h=function(e,t){s.openPage("$UI/system/components/justep/data/designer/editColumn.w",{title:"data列编辑",d_id:t.d_id,xml:t.nodeXml},function(t){o.replaceChild(e,t.def.join(""),{paintComponent:!1,jqCondition:"column"}),o.set(e,{idColumn:t.idColumn})})},p=function(e,t){s.openPage("$UI/system/components/justep/data/designer/editData.w",{title:"data数据编辑",width:784,height:600,d_id:t.d_id,xml:t.nodeXml},function(t){o.replaceChild(e,"<data "+(t.xid?'xid="'+t.xid+'"':"")+"><![CDATA["+JSON.stringify(t.data)+"]]></data>",{paintComponent:!1,xpathCondition:"*[local-name()='data']",jqCondition:"data"})})},d=i.extend({constructor:function(e){e&&e.templateNode&&this._bind(e.templateNode),this.callParent(e)},init:function(e,t){u(this,"x-data")},_bind:function(e){n.utils.domData.set(e,r.BIND_NAME,this),this.domNode=e,this.$domNode=t(this.domNode),n.utils.domNodeDisposal.addDisposeCallback(e,this.dispose.bind(this))},isTree:function(){return"true"==this.$domNode.attr("isTree")},getTreeOption:function(){return{parentRelation:o.get(this,"parentRelation"),nodeKindRelation:o.get(this,"nodeKindRelation"),delayLoad:"true"==o.get(this,"delayLoad"),rootFilter:o.get(this,"rootFilter")}},set:function(e){a(this,e)},editRule:function(e){l(this,e)},editColumn:function(e){h(this,e)},setCalculate:function(e){h(this,e)},editData:function(e){p(this,e)},editExtendType:function(e){c(this,e)}}),v={"$UI/system/components/justep/data/data":{properties:[{name:"label",text:"标签"},"idColumn",{name:"onCustomNew",text:"新增事件",editor:"eventEditor",noLabel:!0},{name:"onAfterNew",text:"新增后事件",editor:"eventEditor",noLabel:!0},{name:"onCustomDelete",text:"删除事件",editor:"eventEditor",noLabel:!0},{name:"onAfterDelete",text:"删除后事件",editor:"eventEditor",noLabel:!0},{name:"onCustomRefresh",text:"刷新事件",editor:"eventEditor",noLabel:!0},{name:"onAfterRefresh",text:"刷新后事件",editor:"eventEditor",noLabel:!0},{name:"onCustomSave",text:"保存事件",editor:"eventEditor",noLabel:!0},{name:"onSaveCommit",text:"保存后事件",editor:"eventEditor",noLabel:!0}],toolbar:[{text:"编辑列",method:"editColumn"},{text:"编辑数据",method:"editData"},{text:"规则设置",method:"editRule"}],operations:function(){return[{groupName:"数据",items:[{name:"new",label:"新增",argExtends:{defaultValues:{editor:"jsExpressionEX"}}},{name:"refresh",label:"刷新"},{name:"firstRow",label:"移动到首行"},{name:"lastRow",label:"移动到尾行"},{name:"prevRow",label:"移动到上一行"},{name:"nextRow",label:"移动到下一行"}]}]}}};return{"$UI/system/components/justep/data/data":d,quickIdeEx:v}}),define("$model/UI2/system/components/justep/bar/designer/bar",["require","../bar"],function(e){var t=e("../bar"),n=t.extend({init:function(e,t){this.callParent(e,t)}}),r={"$UI/system/components/justep/bar/bar":{styleConfig:function(e){return[e.getCommonStyleItem("font"),e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border"),e.getCommonStyleItem("position")]}}};return{"$UI/system/components/justep/bar/bar":n,quickIdeEx:r}}),define("$model/UI2/system/components/justep/toolBar/designer/toolBar",["require","jquery","../toolBar","$UI/system/lib/base/xml","$UI/system/components/designerCommon/js/xuiService","css!./toolBar"],function(require){var $=require("jquery"),Bar=require("../toolBar"),XML=require("$UI/system/lib/base/xml"),xuiService=require("$UI/system/components/designerCommon/js/xuiService"),xuiDoc=xuiService.getXuiDoc();require("css!./toolBar").load();var cls=Bar.extend({init:function(e,t){this.callParent(e,t)},selectOperation:function(config){var did=config.d_id;xuiService.openPage("$UI/system/components/designerCommon/propEdtorPages/operationSelector/operationSelector.w",{title:"选择操作",multiselect:!0,xml:config.nodeXml},function(result){result=eval("("+result+")"),$.isArray(result)||(result=[result]);var btns=[];$.each(result,function(e,t){var n=$(XML.fromString("<div/>").documentElement);n.append(' <a component="$UI/system/components/justep/button/button" class="btn btn-link btn-icon-left" >          <i/>           <span></span>        </a>  '),n.children("a").attr("onClick",JSON.stringify(t));var r=n.html();n.remove(),btns.push({componentName:"$UI/system/components/justep/button/button",parentElementId:did,paintComponent:!0,templateContent:r})}),btns.length>0&&xuiDoc.batchCreateComponent(btns,function(){})})}}),quickIdeEx={"$UI/system/components/justep/toolBar/toolBar":{toolbar:[{text:"添加操作",method:"selectOperation"}],styleConfig:function(e){return[{text:"分割线",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,optionData:[{propName:"class",value:"",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:70px;'>无</button>"},{propName:"class",value:"x-toolbar-spliter",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:70px;'>分割线</button>"}],editor:"listEditor"}]},e.getCommonStyleItem("font"),e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border"),e.getCommonStyleItem("position")]}}};return{"$UI/system/components/justep/toolBar/toolBar":cls,quickIdeEx:quickIdeEx}}),define("$model/UI2/system/components/justep/cellLayout/designer/cellLayout",["require","jquery","css!./css/cellLayout","$UI/system/components/designerCommon/js/xuiService"],function(require){function insertface(e,t){if(document.selection){var n=document.selection.createRange().text;n||(n=t),e.focus(),n.charAt(n.length-1)==" "?(n=n.substring(0,n.length-1),document.selection.createRange().text=n+" "):document.selection.createRange().text=n}else if(e.selectionStart||e.selectionStart=="0"){var r=e.selectionStart,i=e.selectionEnd,s=e.value.substring(r,i),o;s||(s=t),s.charAt(s.length-1)==" "?o=s.substring(0,s.length-1)+" ":o=s,e.value=e.value.substring(0,r)+o+e.value.substring(i,e.value.length),e.focus();var u=r+s.length;e.selectionStart=u,e.selectionEnd=u}else e.value+=t,e.focus();e.createTextRange&&(e.caretPos=document.selection.createRange().duplicate())}var $=require("jquery");require("css!./css/cellLayout").load();var xuiService=require("$UI/system/components/designerCommon/js/xuiService"),xuiDoc=xuiService.getXuiDoc(),SelectionUnit=function(e){this.ownerCom=e};String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"gm"),t)},SelectionUnit.prototype={setBound:function(e){this.bound=e;var t=this.ownerCom.domNode,n=e.x,r=e.y,i=e.w-1,s=e.h-1;if(!this.lines){var o="black",u="solid",a=";overflow:visible;font-size:0px;z-index:2200;position:absolute;",f=[];f.push("top:"+r+"px;left:"+n+"px;width:1px;height:"+s+"px;line-height:0px;"+";border-left:2px "+u+" "+o+a),f.push("top:"+r+"px;left:"+n+"px;width:"+i+"px;height:1px;line-height:0px;"+";border-top:2px "+u+" "+o+a),f.push("top:"+r+"px;left:"+(n+i)+"px;width:1px;height:"+(s+1)+"px;line-height:0px;"+";border-left:2px "+u+" "+o+a),f.push("top:"+(r+s)+"px;left:"+n+"px;width:"+i+"px;height:1px;line-height:0px;"+";border-top:2px "+u+" "+o+a),this.lines=[];var l=0;for(l=0,n=f.length;l<n;l++)this.lines.push(this._paintLine(t,f[l]))}else $(this.lines[0]).css({top:r+"px",left:n+"px",height:s+"px"}),$(this.lines[1]).css({top:r+"px",left:n+"px",width:i+"px"}),$(this.lines[2]).css({top:r+"px",left:n+i+"px",height:s+2+"px"}),$(this.lines[3]).css({top:r+s+"px",left:n+"px",width:i+"px"});return this.cells=this.getCells(),this},reGetCells:function(){this.cells=this.getCells()},updateBound:function(){var e=this.cells[0],t=this.cells[this.cells.length-1],n=this.ownerCom.getCellBound(e),r=this.ownerCom.getCellBound(t),i=n.x,s=n.y,o=r.x-n.x+r.w,u=r.y-n.y+r.h;this.setBound({x:i,y:s,w:o,h:u})},_paintLine:function(e,t,n){var r=document.createElement("div");return e.appendChild(r),r.className="cell-select-line",r.style.cssText=t,r},getCells:function(){return this.getCellsWithColRowIndics()[2]},getCellsWithColRowIndics:function(){var e=this.getBound(),t=e.x-2,n=e.x+e.w-2,r=this.ownerCom.getRowColIndex(e.x+1,e.y+1),i=this.ownerCom.getRowColIndex(e.x+e.w-3,e.y+e.h-3),s=this.ownerCom.getCells(r[0],i[0]-1,t,n);return[r,i,s]},getBound:function(){return this.bound},dispose:function(){if(this.lines)for(var e=0,t=this.lines.length;e<t;e++)this.lines[e].parentNode.removeChild(this.lines[e]);this.lines=null}};var CellLayout=function(e){this.selctionChangeCaller=null,this.selectionClearCaller=null,this.selections=[],this.preAddChild={},this.maxPos={x:0,y:0},this.domNode=this.templateNode=e.templateNode,this.domNode.setAttribute("tabindex","0"),this.paintContent(this.templateNode)};CellLayout.prototype={paintContent:function(e){var t=this;$(this.domNode).on("childChanged",">*",function(){setTimeout(function(){t.updateAllSelectionUnitBound()},100)}),$(this.domNode).on("childChanged",function(){setTimeout(function(){t.updateAllSelectionUnitBound()},100)}),this.isInit=!0,this.rowHeight=e.getAttribute("row-height"),this.columnWidth=e.getAttribute("column-width");if(!this.rowHeight||this.rowHeight=="0")this.rowHeight="19";if(!this.columnWidth||this.columnWidth=="0")this.columnWidth="80";this.rowHeight+="px",this.columnWidth+="px";var n=e.childNodes,r,i={};for(var s=0,o=n.length;s<o;s++){var u=n[s];if(u.tagName.toLowerCase()=="layout-content"){var a=u.childNodes,f=[];for(var l=0;l<a.length;l++)a[l].nodeType==3&&f.push(a[l].nodeValue);r=$(f.join(""))[0]}else u.nodeType===1&&(i[u.getAttribute("xid")]=u.outerHTML)}this._init(r,i),this.isInit=!1;var c=this.getMaxRowColIndex();this.updateBeforeCellsHeight(c[0],c[1])},_init:function(e,t){var n=this,r=this._buildHtml(e,t);this.domNode.innerHTML=r,this.mainTable=this.domNode.childNodes[0];var i=!1,s,o,u;$(this.domNode).bind("mousedown",function(e){o=e.clientX,u=e.clientY;if(n.ownerDesigner.ctx.action!==null)return;var t=e.target,r=$(e.target);if(r.hasClass("cell")){if(e.button==2&&n.getSelectionUnit(e.target)){e.stopPropagation();return}if(t.getAttribute("d_canAddChild")!="true"){n.clearSelectionUnit();return}n.mouseDonwCell=t,n.ownerDesigner.clearSelections(),n.ownerDesigner.clearResizeBoxes(),n.executeSelect(e,t),n.currentCell=t,s=t,n.moveRowIndex=s.parentNode.rowIndex,e.stopPropagation(),n.ownerDesigner.clearCompTip()}}).bind("mouseup",function(e){i=!1,s=null;var t=$(e.target);n.ownerDesigner.ctx.action===null&&(t.hasClass("cell")||t.hasClass("cell-select-line"))&&e.button==2&&n.ownerDesigner.dispatchEvent({event:"contextmenu",selections:JSON.stringify([n.domNode.getAttribute("d_id")]),componentNames:JSON.stringify([n.domNode.getAttribute("componentName")])})}).bind("mousemove",function(e){!i&&s&&(Math.abs(e.clientX-o)>1||Math.abs(e.clientY-u)>1)&&(i=!0,n.dragSelect(e,s,n))}).bind("dblclick",function(e){var t=e.target;if(t.tagName=="TD"&&$(t).hasClass("cell")&&t.getAttribute("d_canAddChild")=="true"){var r=t.childNodes;for(var i=0;i<r.length;i+=1)if(r[i].nodeType==1&&r[i].tagName!="BR")return;n.ownerDesigner.focusable=!1,n.showLabelInput(t),setTimeout(function(){n.ownerDesigner.focusable=!0},800)}}).bind("keydown",function(e){if(!n.currentCell)return;var t=e.keyCode;if(t==37)return n.gotoPrevTd(n.currentCell,e.shiftKey),!1;if(t==39||t==9)return t==9&&e.shiftKey?n.gotoPrevTd(n.currentCell,!1):n.gotoNextTd(n.currentCell,e.shiftKey),!1;if(t==38)return n.gotoUpTd(n.currentCell,e.shiftKey),!1;if(t==40||t==13){if(t!=13||!e.shiftKey)return n.gotoDownTd(n.currentCell,e.shiftKey),!1;n.gotoUpTd(n.currentCell,!1)}else if(t==32||t==113)n.showLabelInput(n.lastSelectCell),e.preventDefault();else if(t==46)e.stopPropagation(),n.clearCellContent();else if(!e.ctrlKey||e.keyCode!=67&&e.keyCode!=88)if(t==27&&n.selections&&n.selections.length>0)return n.clearSelectionUnit(),n.ownerDesigner.setSelection(n.domNode),n.ownerDesigner.dispatchSelectionChangedEvent(),!1})},endCellEdit:function(){this.currentTextInput&&this.currentTextInput.blur()},copyCells:function(e){if(this.selections.length>1){alert("不能同时复制多个区域");return}if(this.selections.length==1){var t={},n=this.selections[0].getCellsWithColRowIndics(),r=n[0],i=n[1],s=i[1]-r[1],o=i[0]-r[0],u=n[2],a=[],f=[];for(var l=0,c=u.length;l<c;l++){var h=u[l];this.getComIds(h,a,f);var p=t[h.parentNode.rowIndex];p||(p=t[h.parentNode.rowIndex]=[]),p.push(this.genaCellHtml(h))}var d=['<table rowNums="'+o+'" colNums="'+s+'">'];for(var v in t)d.push("<tr>"+t[v].join("")+"</tr>");d.push("</table>"),e.cellData=d.join(""),e.comIds=a,e.paths=f}},pasteCells:function(e){var t=e.cells;if(t){t=t.replace(new RegExp("#C1C1C1|#c1c1c1","gm"),"#010101");var n=this.selections[0].getCells(),r=n[0],i=$(t)[0],s=parseInt(i.getAttribute("rowNums"),10),o=parseInt(i.getAttribute("colNums"),10),u=r.parentNode.rowIndex,a=this.getColIndex(r),f=u+s-1,l=a+o-1,c=this.mainTable.rows[0].cells[a],h=this.mainTable.rows[0].cells[l];if(!h){alert("列数不足！");return}var p=this.mainTable.rows[f];if(!p){alert("行数不足！");return}var d=p.cells[0],v=c.offsetLeft,m=c.offsetTop,g=h.offsetLeft+h.offsetWidth,y=d.offsetTop+d.offsetHeight,b=5e4,w=5e4,E=0,S=0,x="",T=this.getCells(u,f,v,g),N=null;for(var C=0;C<T.length;C++){var k=T[C],L=k.offsetLeft,A=k.offsetTop,O=k.offsetWidth+L,M=k.offsetHeight+A;b=Math.min(b,L),w=Math.min(w,A),E=Math.max(O,E),S=Math.max(M,S),!x&&(L<v||A<m||k.offsetWidth+L>g||k.offsetHeight+A>y)&&(x="不能对合并单元格做部分修改！"),N=k}N!=r&&(this.selections[this.selections.length-1].setBound({x:b,y:w,w:E-b,h:S-w}),this.paintResizeBoxes(N,!0));if(x){alert(x);return}this.cancelCellMerging(!1),n=this.selections[0].getCells();var _=[],D=0;u=-1;var C=0;for(C=0;C<n.length;C++){var k=n[C];u==-1&&(u=k.parentNode.rowIndex);var P=_[k.parentNode.rowIndex-u];P||(D+=1,P=_[k.parentNode.rowIndex-u]=[]),P.push(k)}var H=_[0];if(D!=s||H.length!=o){alert("不能对合并单元格做部分修改！");return}var B=i.childNodes[0].childNodes;this.comIdToCellMap={};for(C=0;C<B.length;C++){var P=B[C],j=P.childNodes;for(var F=0;F<j.length;F++){var k=j[F];if(k.nodeType==1){k.setAttribute("class","cell"),k.setAttribute("d_canAddChild","true");var I=$(k.outerHTML).insertBefore(_[C][0])[0];I.setAttribute("id","_id")}}}var q=[],R=[];for(C=n.length-1;C>=0;C--)this._fetchComIds(n[C],q,R),n[C].parentNode.removeChild(n[C]);e.removeComIds=q,e.removeComPaths=R;var U=this.asHtml();e["layout-data"]=U,this.isInit=!0;var z=this;this.currentCell=this.selections[0].getCells()[0]}},_buildHtml:function(e,t){var n=["<table class='nohead' cellspacing=0 cellpadding=0 d_canAddChild='false' style='background:white;border-collapse: collapse;table-layout:fixed; top:0px;left:0px;width:1px;'>"],r=e?e.getElementsByTagName("tr"):[],i=r.length,s=r.length>0?r[0].childNodes.length:0,o=Math.max(8,s),u=Math.max(20,i),a={};for(var f=0;f<u;f++){n.push("<tr d_canAddChild='false'>");var l="cell";f==0&&(l+=" first-row");var c=r[f];if(!c)for(var h=0;h<o;h++){var p=l;f==0&&h==0&&(p+=" first-cell"),n.push("<td name='"+(f+"-"+h)+"' d_canAddChild='"+(f>0&&h>0?"true":"false")+"' class='"+p+(h>0?"":" first-col")+"'"+(h>0?"":" height='"+this.rowHeight+"' ")+(f>0?"":" width='"+this.columnWidth+"' ")+"></td>")}else{var d=c.childNodes;for(var h=0;h<o;h++){var v=d[h],m="",p=l;f==0&&h==0&&(p+=" first-cell");if(v){var g=v.getAttribute("class");if(g){g=g.split(" ");for(var y=g.length-1;y>=0;y-=1)(g[f]=="cell"||g[f]=="first-col"||g[f]=="first-row"||g[f]=="first-cell")&&g.splice(y,1);p+=" "+g.join(" ")}var b=[],w=[],E=v.getAttribute("style");E&&(E=E.replace(new RegExp("#C1C1C1|#c1c1c1","gm"),"#010101"),b.push("style='"+E+"'"));if(f>=0){var S=v.getAttribute("rowSpan");S&&b.push("rowspan="+S+"");var x=v.getAttribute("colSpan");x&&b.push("colspan="+x+"");var T=v.getAttribute("_cellAttr");T&&b.push("_cellAttr='"+T+"'");var N=v.getAttribute("format");N&&b.push('format="'+N+'"'),b.push("noWrap='true'");var C=v.getAttribute("componentId");if(C){var k=C.split(",");for(var L=0;L<k.length;L++){var A=t[k[L]];A&&w.push(A)}}m=v.text}var O=[],M=v.childNodes;for(var y=0,_=M.length;y<_;y++)M[y].nodeType==1?O.push(M[y].outerHTML):O.push(M[y].nodeValue);var D=O.join("");D&&(D=D.replaceAll(">","&gt;").replaceAll("<","&lt;").replaceAll("&lt;br&gt;","<br>")),w.length>0&&(D=(D||"")+w.join("")),n.push("<td "+b.join(" ")+" d_canAddChild='"+(f>0&&h>0?"true":"false")+"' class='"+p+(h>0?"":" first-col")+"'"+(h>0?"":" height='"+this.rowHeight+"' ")+(f>0?"":" width='"+this.columnWidth+"' ")+">"+D+"</td>")}else h>=s&&n.push("<td d_canAddChild='"+(f>0?"true":"false")+"'  class='"+p+(h>0?"":" first-col")+"'"+(h>0?"":" height='"+this.rowHeight+"' ")+(f>0?"":" width='"+this.columnWidth+"' ")+">"+m+"</td>")}}n.push("</tr>")}return n.push("</table>"),this.comIdToCellMap=a,n.join("")},buildCellHtml:function(e,t){var n=[];for(var r=0;r<e;r++)n.push("<td d_canAddChild='true' class='cell'>"+(t||"")+"</td>");return n.join("")},asHtml:function(){var e=this.getMaxRowColIndex();this.updateBeforeCellsHeight(e[0],e[1]);var t=this.getMaxOffset(),n=t.x,r=t.y,i=[];if(n>0&&r>0){var s=this.mainTable.rows;i.push('\n  <table cellspacing="0" cellpadding="0" rowHeight="'+this.rowHeight.replace("px","")+'" columnWidth="'+this.columnWidth.replace("px","")+'"'+' style="border-collapse:collapse;table-layout:fixed;width:1px;">\n');for(var o=0;;o++){var u=s[o];if(!u||u.offsetTop+2>r)break;i.push("     <tr>");var a=u.cells;for(var f=0;;f++){var l=a[f];if(!l||l.offsetLeft+2>n)break;l.noWrap=!0,i.push(this.genaCellHtml(l,o,f))}i.push("</tr>\n")}i.push("  </table>\n")}return i.join("")},updateLayoutContent:function(e,t){e=e||[];var n=this,r=this.asHtml();return xuiDoc.callMethod(this,"setContent",{"layout-data":r,paths:t,removeComIds:e},function(){n.updateAllSelectionUnitBound(),n.domNode.focus()}),r},genaCellHtml:function(e,t,n,r){var i=e.style.cssText,s=e.className;if(s){var o=s.split(" ");for(var u=o.length-1;u>=0;u-=1)(o[u]=="cell"||o[u]=="first-col"||o[u]=="first-row"||o[u]=="first-cell")&&o.splice(u,1);s=o.join(" ")}s=s?' class="'+s+'" ':"",i=i.replace(new RegExp("#010101","gm"),"#C1C1C1");var a=(e.colSpan>1?' colSpan="'+e.colSpan+'"':"")+(e.rowSpan>1?' rowSpan="'+e.rowSpan+'"':"")+s+(i?' style="'+i+'"':""),f=[],l=[],c=e.childNodes;for(var h=0,p=c.length;h<p;h++){var d=c[h];if(d.nodeType==1){var v=this.ownerDesigner.getComponent(d);v?l.push(v.domNode.getAttribute("xid")):d.getAttribute("xid")?l.push(d.getAttribute("xid")):f.push("<"+d.tagName+"/>")}else t!==0&&n!==0&&f.push(d.nodeValue)}if(l.length>0)a+=' componentId="'+l.join(",")+'"';else{var m=e.getAttribute("componentId");m&&(a+=' componentId="'+m+'"')}a=this.buildOtherAttribute(e,a);var g=f.join("");return g&&(g=g.replace(new RegExp("<","gm"),"&lt;"),g=g.replace(new RegExp(">","gm"),"&gt;")),"<td "+a+">"+g+"</td>"},buildOtherAttribute:function(e,t){return t},paintResizeBoxes:function(e,t,n){this.currentCell=e;var r=this.getCellBound(e),i=r.x-3,s=r.y-3,o=r.w,u=r.h,a=[[i+o+(e.parentNode.cells.length-1==e.cellIndex?-2:2),s+u/2],[i+o/2,s+u+(this.mainTable.rows.length-1==e.parentNode.rowIndex?-2:2)]];if(!this.resizeBoxes||this.resizeBoxes.length===0){var f=this.domNode,l=[];n||(n="e,s"),n.indexOf("e")!=-1&&l.push(this.buildResizBoxHtml(a[0],"e","e-resize")),n.indexOf("s")!=-1&&l.push(this.buildResizBoxHtml(a[1],"s","s-resize")),this.resizeBoxes=[];var c=this;$(l.join("")).appendTo(f).each(function(e,t){c.resizeBoxes.push(t)}).bind("mousedown",function(e){$(this).attr("direction")=="e"?c.dragResizeColWidth(e,c.currentCell,c):c.dragResizeRowHeight(e,c.currentCell,c),e.stopPropagation(),e.preventDefault()})}else $(this.resizeBoxes[0]).css("top",a[0][1]).css("left",a[0][0]),$(this.resizeBoxes[1]).css("top",a[1][1]).css("left",a[1][0])},buildResizBoxHtml:function(e,t,n){var r="top:"+e[1]+"px;left:"+e[0]+"px;";return"<div class='select-box' isResizeBox='true' direction='"+t+"' cursor='"+n+"' style='cursor:"+n+";z-index:3500;"+r+"'></div>"},clearResizeBox:function(){if(this.resizeBoxes){for(var e=0,t=this.resizeBoxes.length;e<t;e++)$(this.resizeBoxes[e]).unbind(),this.resizeBoxes[e].parentNode.removeChild(this.resizeBoxes[e]);this.resizeBoxes=null}},containInRect:function(e,t,n){if(e>=n.x&&e<=n.x+n.w&&t>=n.y&&t<=n.y+n.h)return!0},setProperty:function(e){var t=e.name,n=e.value;if(t==="layout-data"){if(n==this.asHtml())return;xuiDoc.repaintComponent(this)}else if(t==="row-height"){if(!n||n=="0")n=19;this.rowHeight=n+"px";var r=this.mainTable.rows;for(var i=1;i<r.length;i++)r[i].cells[0].height=this.rowHeight;this.clearSelectionUnit(),this.updateLayoutContent()}else if(t==="column-width"){if(!n||n=="0")n=80;this.columnWidth=n+"px";var s=this.mainTable.rows[0].cells;for(var i=1;i<s.length;i++)s[i].width=this.columnWidth;this.clearSelectionUnit(),this.updateLayoutContent()}},setCellStyle:function(config){debugger;if(!this.selections)return;if(config["border-color"]||config["border-width"]||config["border-style"])return;delete config.methodType,delete config.methodName;var i=0,j=0,cells;if(!config["cell-layout-border-style"])for(i=0,l=this.selections.length;i<l;i++){var cells=this.selections[i].getCells();for(j=0,cCount=cells.length;j<cCount;j++){cell=cells[j];if(config["border-color"]!==undefined){if(cell.style.borderWidth=="")continue;config["border-color"]==""&&(config["border-color"]="#000000")}if(config["border-style"]!==undefined&&cell.style.borderWidth==="")continue;$(cell).css(config),this.updateMaxPos(cell)}}else{var style;eval("style="+config["cell-layout-border-style"]);var borderStyle=style.style,defaultWidth=style.width+"px",defaultColor=style.color;defaultColor||(defaultColor="#010101");var defaultPattern=style.pattern;for(i=0,l=this.selections.length;i<l;i++){var bound=this.selections[i].getBound();cells=this.selections[i].getCells();for(j=0,cCount=cells.length;j<cCount;j++){config={};var currentCell=cells[j];borderStyle=="border_all"?(config["border-width"]=defaultWidth,config["border-color"]=defaultColor,config["border-style"]=defaultPattern,this.setExtCellStyle(bound,currentCell,!0,!0,defaultWidth,defaultColor,defaultPattern)):borderStyle=="border_remove"?(config["border-width"]="",config["border-color"]="",config["border-style"]="",this.setExtCellStyle(bound,currentCell,!0,!0,"","","")):((borderStyle=="border_left"||borderStyle=="border_outline"||borderStyle=="border_left_right")&&currentCell.offsetLeft==bound.x&&(config["border-left-width"]=defaultWidth,config["border-left-color"]=defaultColor,config["border-left-style"]=defaultPattern,this.setExtCellStyle(bound,currentCell,!0,!1,defaultWidth,defaultColor,defaultPattern)),(borderStyle=="border_right"||borderStyle=="border_outline"||borderStyle=="border_left_right")&&currentCell.offsetLeft+currentCell.offsetWidth==bound.x+bound.w&&(config["border-right-width"]=defaultWidth,config["border-right-color"]=defaultColor,config["border-right-style"]=defaultPattern),(borderStyle=="border_top"||borderStyle=="border_outline"||borderStyle=="border_top_bottom")&&currentCell.offsetTop==bound.y&&(config["border-top-width"]=defaultWidth,config["border-top-color"]=defaultColor,config["border-top-style"]=defaultPattern,this.setExtCellStyle(bound,currentCell,!1,!0,defaultWidth,defaultColor,defaultPattern)),(borderStyle=="border_bottom"||borderStyle=="border_outline"||borderStyle=="border_top_bottom")&&currentCell.offsetTop+currentCell.offsetHeight==bound.y+bound.h&&(config["border-bottom-width"]=defaultWidth,config["border-bottom-color"]=defaultColor,config["border-bottom-style"]=defaultPattern),(borderStyle=="border_center_v"||borderStyle=="border_center_v_h")&&currentCell.offsetLeft+currentCell.offsetWidth!=bound.x+bound.w&&(config["border-right-width"]=defaultWidth,config["border-right-color"]=defaultColor,config["border-right-style"]=defaultPattern),(borderStyle=="border_center_h"||borderStyle=="border_center_v_h")&&currentCell.offsetTop+currentCell.offsetHeight!=bound.y+bound.h&&(config["border-bottom-width"]=defaultWidth,config["border-bottom-color"]=defaultColor,config["border-bottom-style"]=defaultPattern)),$(currentCell).css(config),this.updateMaxPos(currentCell)}}}this.updateLayoutContent()},setExtCellStyle:function(e,t,n,r,i,s,o){if(n&&t.offsetLeft==e.x){var u=this.getPrevTd(t);if(u){var a={};a["border-right-width"]=i,a["border-right-color"]=s,a["border-right-style"]=o,$(u).css(a)}}if(r&&t.offsetTop==e.y){var f=this.getUpTd(t);if(f){var l={};l["border-bottom-width"]=i,l["border-bottom-color"]=s,l["border-bottom-style"]=o,$(f).css(l)}}},setCellStyleStr:function(e){var t=e.style,n=e.isClass,r=e["class"];for(var i=0,s=this.selections.length;i<s;i++){var o=this.selections[i].getCells();for(var u=0,a=o.length;u<a;u++){var f=o[u];if(n=="true"){var l=[],c=f.className;if(c){c=c.split(" ");for(var h=0;h<c.length;h+=1)(c[h]=="cell"||c[h]=="first-cell"||c[h]=="first-col"||c[h]=="first-row")&&l.push(c[h])}r&&l.push(r),f.className=l.join(" ")}else f.style.cssText=t}}this.updateLayoutContent()},setColWidth:function(e,t){t<0&&(t=2),this.mainTable.rows[0].cells[e].style.width=t+"px",this.updateLayoutContent()},setRowHeight:function(e,t){if(t<0)return;this.mainTable.rows[e].cells[0].style.height=t+"px",this.updateLayoutContent()},getCellBound:function(e){return{x:e.offsetLeft,y:e.offsetTop,w:e.offsetWidth,h:e.offsetHeight}},getOwnerCell:function(e){var t=e;while(t){if($(t).hasClass("cell"))return t;t=t.parentNode}return t},getActivteViewPartElement:function(){if(this.currentCell)return this.currentCell},getRowIndics:function(e,t){var n=this.mainTable.rows,r=-1,i=-1;for(var s=0,o=n.length;s<o;s++){var u=n[s].offsetTop+2;u>=e&&r==-1&&(r=s);if(u>=t){i=s-1;break}}return i==-1&&(i=n.length-1),[r,i]},getFirstRowCellByPos:function(e){var t=this.mainTable.rows,n=t[0],r=n.cells;for(var i=0,s=r.length;i<s;i++)if(e>=r[i].offsetLeft&&e<r[i].offsetLeft+r[i].offsetWidth)return r[i]},getFirstColCellByPos:function(e){var t=this.mainTable.rows;for(var n=1,r=t.length;n<r;n++){var i=t[n].cells[0];if(e>=i.offsetTop&&e<i.offsetTop+i.offsetHeight)return i}},getMaxOffset:function(){var e=this.mainTable.rows,t=0,n=0;for(var r=e.length-1;r>0;r--){var i=e[r].cells;for(var s=i.length-1;s>0;s--){var o=i[s];if(o.colSpan>1||o.rowSpan>1||o.firstChild||o.style.cssText&&o.style.cssText!="HEIGHT: 19px"||o._cellAttr){var u=this.getCellBound(o);t=Math.max(u.x+u.w,t),n=Math.max(u.y+u.h,n)}}}return{x:t,y:n}},getMaxRowColIndex:function(){var e=this.getMaxOffset(),t=e.x,n=e.y;if(t>0&&n>0){var r=this.getRowColIndex(t-3,n-3);return[r[0]-1,r[1]-1]}return[-1,-1]},getRowColIndex:function(e,t){var n=this.mainTable.rows,r=n[0],i=r.cells,s=-1,o=-1,u=0,a=i.length;for(u=0;u<a;u++)if(i[u].offsetLeft+2>=e){s=u;break}for(u=0,a=n.length;u<a;u++)if(n[u].offsetTop+2>=t){o=u;break}return s==-1&&(s=i.length),o==-1&&(o=n.length),[o,s]},getCells:function(e,t,n,r){var i=this.mainTable.rows,s=[];for(var o=e;o<=t;o++){var u=i[o].cells;for(var a=0,f=u.length;a<f;a++){var l=u[a];if(!l)break;var c=l.offsetLeft;if(c>=n&&c<r)s.push(l);else if(c>r)break}}return s},createSelectionUnit:function(e){if(!e)return;var t=this.domNode.getAttribute("d_id");if(!this.getSelectionUnit(e)){this.lastSelectCell=e,this.selections.push((new SelectionUnit(this)).setBound(this.getCellBound(e))),this.paintResizeBoxes(e),this.selctionChangeCaller&&(clearTimeout(this.selectionClearCaller),this.selectionClearCaller=null,clearTimeout(this.selctionChangeCaller),this.selctionChangeCaller=null);var n=this,r=e.className,i=[];if(r){r=r.split(" ");for(var s=0;s<r.length;s+=1)r[s]!="cell"&&r[s]!="first-cell"&&r[s]!="first-col"&&r[s]!="first-row"&&i.push(r[s])}this.selctionChangeCaller=setTimeout(function(){n.ownerDesigner&&n.ownerDesigner.dispatchEvent({className:i.join(" "),event:"cellLayoutSelectionChanged",id:t,path:$(e).getPath(),style:e.style.cssText,value:e.innerHTML})},400)}},getSelectionUnit:function(e){for(var t=0,n=this.selections.length;t<n;t++)if(this.containInRect(e.offsetLeft+2,e.offsetTop+2,this.selections[t].getBound()))return this.selections[t]},getDId:function(){return this.domNode.getAttribute("d_id")},clearSelectionUnit:function(e){for(var t=0,n=this.selections.length;t<n;t++)this.selections[t].dispose();this.selections=[],this.lastSelectCell=null,this.currentCell=null,this.headerSelectRowIndex=-1,this.headerSelectRowIndex=-1,this.clearResizeBox(),this.selectionClearCaller&&(clearTimeout(this.selectionClearCaller),this.selectionClearCaller=null);if(e===!0)return;var r=this;r.mouseDownFlag?r.ownerDesigner.dispatchEvent({event:"cellLayoutClearSeleection",id:r.getDId()}):this.selectionClearCaller=setTimeout(function(){r.ownerDesigner&&r.ownerDesigner.dispatchEvent({event:"cellLayoutClearSeleection",id:r.getDId()})},400)},_fetchComIds:function(e,t,n){var r=e.childNodes;for(var i=r.length-1;i>=0;i--)if(r[i]&&r[i].nodeType==1){var s=r[i].getAttribute("d_id");s&&(t.push(s),n.push($(r[i]).getPath()))}},getComIds:function(e,t,n){e=e.length||e.length===0?e:[e];for(var r=e.length-1;r>=0;r--)this._fetchComIds(e[r],t,n)},colRowIndicsMap:{},deleteCells:function(e,t,n,r,i){this.stopFireUpdateContent=!0;var s=0;try{e=e.length||e.length===0?e:[e];if(r)for(s=e.length-1;s>=0;s--)this._fetchComIds(e[s],r,i);if(!r){r=[],i=[];for(s=e.length-1;s>=0;s--)this._fetchComIds(e[s],r,i);r.length>0&&this.ownerDesigner.dispatchEvent({event:"removeSelections",selections:JSON.stringify(r),paths:i})}for(s=e.length-1;s>=0;s--)n||(t||e[s].parentNode).removeChild(e[s]);if(n)for(s=e.length-1;s>=0;s--)e[s].innerHTML="",e[s].setAttribute("componentId","")}finally{this.stopFireUpdateContent=!1}},clearCellContent:function(){var e=this.selections.length,t=[],n=[];this.colRowIndicsMap={};for(var r=0;r<e;r++){var i=this.selections[r].getCells();this.deleteCells(i,null,!0,t,n)}e>0&&this.updateLayoutContent(t,n)},executeSelect:function(e,t){if(!t)return;var n=this.selections.length;if(e.ctrlKey)this.createSelectionUnit(t);else if(e.shiftKey&&n>0){var r=e.target;r=this.getOwnerCell(r);if(!r||r.tagName!="TD"||r.getAttribute("d_canAddChild")!="true")return;this.updateSelectionUnit(r)}else this.currentCell!=t&&(this.clearSelectionUnit(),this.createSelectionUnit(t))},dragSelect:function(e,t,n){try{var r=n.getSelectionUnit(t);if(!r)return;n.domNode.style.cursor="default";var i=function(e){var t=e.target;t=n.getOwnerCell(t);if(!t||t.tagName!="TD"||t.getAttribute("d_canAddChild")!="true")return;n.updateSelectionUnit(t),n.isDragSelect=!0,e.stopPropagation()},s=function(e){$(n.domNode).unbind("mouseover",i).unbind("mouseup",s),n.isDragSelect=!1,e.stopPropagation()};$(n.domNode).bind("mouseover",i).bind("mouseup",s)}catch(o){alert("选择出错"+o)}},updateMaxPos:function(e){var t=this.getCellBound(e);this.maxPos.x=Math.max(this.maxPos.x,t.x+t.w-2),this.maxPos.y=Math.max(this.maxPos.y,t.y+t.h-2)},dragResizeColWidth:function(e,t,n){n.isResize=!0;var r=document,i=t.offsetWidth-1,s=n.domNode.clientHeight,o=$("<div class='col-resize-line' style='top:"+n.domNode.scrollTop+"px;left:"+t.offsetLeft+"px;width:"+i+"px;height:"+s+"px'></div>").appendTo(n.domNode),u=i,a=e.clientX;r.onmousemove=function(e){var t=(e||window.event).clientX-a+i;t>5&&o.css("width",u=t)},r.onmouseup=function(e){n.isResize=!1,o.remove(),o=null,r.onmousemove=null,r.onmouseup=null,r=null;if(u!=i){var s=n.getCellBound(t),a=n.getFirstRowCellByPos(s.x+s.w-2);a&&n.setColWidth(a.cellIndex,a.offsetWidth+(u-i))}}},dragResizeRowHeight:function(e,t,n){n.isResize=!0;var r=document,i=t.offsetHeight-1,s=n.domNode.clientWidth,o=$("<div class='row-resize-line' style='top:"+t.offsetTop+"px;left:"+n.domNode.scrollLeft+"px;width:"+s+"px;height:"+i+"px'></div>").appendTo(n.domNode),u=i,a=e.clientY;r.onmousemove=function(e){var t=(e||window.event).clientY-a+i;t>5&&o.css("height",u=t)},r.onmouseup=function(e){n.isResize=!1,o.remove(),o=null,r.onmousemove=null,r.onmouseup=null,r=null;if(u!=i){var s=n.getCellBound(t),a=n.getFirstColCellByPos(s.y+s.h-2);a&&n.setRowHeight(a.parentNode.rowIndex,a.offsetHeight+(u-i))}}},showLabelInput:function(e){var t=e.childNodes;for(var n=0,r=t.length;n<r;n++)if(t[n].nodeType==1&&t[n].component)return;document.body.onselectstart="";var i=$("<textarea  style='top:"+e.offsetTop+"px;left:"+e.offsetLeft+"px;border:1px solid;position:absolute;font:normal 12px 宋体, arial, serif;overflow:visible;word-wrap:normal;z-index:8000;overflow-y:hidden'/>")[0],s=e.innerHTML;i.value=s.replaceAll("&nbsp;"," ").replaceAll("<br>","\n").replaceAll("&lt;","<").replaceAll("&gt;",">");var o=this.calcTextSize(i.value);$(i).css({width:Math.max(e.offsetWidth,o.w)+"px",height:Math.max(e.offsetHeight,o.h)+"px"}),this.domNode.appendChild(i),i.onmousedown=function(e){e.stopPropagation()},i.onmouseup=function(e){e.stopPropagation()},i.onmousemove=function(e){e.stopPropagation()},i.onkeydown=function(t){t.keyCode==13&&(t.altKey?insertface(i,"\r\n"):(i.blur(),u.createSelectionUnit(e),setTimeout(function(){u.domNode.focus()},100)));var n=u.calcTextSize(i.value);$(i).css({width:Math.max(e.offsetWidth,n.w)+"px",height:Math.max(e.offsetHeight,n.h)+"px"}),t.stopPropagation()};var u=this;u.currentTextInput=i,i.onblur=function(t){document.body.onselectstart=function(){return!1};var n=i.value||"",r=n.replaceAll(" ","&nbsp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll("\n","<br>");$(e).html(r),u.updateMaxPos(e),u.currentTextInput=null,u.labelChanging=!1,setTimeout(function(){$(i).remove()},100),u.updateLayoutContent(),e.focus()},i.focus(),i.selectionStart=i.selectionEnd=i.value.length},getLayoutData:function(e){e=e||{},e.layoutData=this.asHtml()},mergeCell:function(){var e=[],t=0,n=this.selections.length;for(t=0;t<n;t++)e.push(this.selections[t].getBound());if(this.hasIntersection(e)){alert("选择区域存在交集，不能合并");return}var r=[],i=[];this.colRowIndicsMap={};for(t=0,n=this.selections.length;t<n;t++){var s=this.selections[t].getBound(),o=s.x-2,u=s.x+s.w-2,a=this.getRowColIndex(s.x+1,s.y+1),f=this.getRowColIndex(s.x+s.w-3,s.y+s.h-3),l=f[0]-a[0],c=f[1]-a[1],h=this.getCells(a[0],f[0]-1,o,u);c>1&&(h[0].colSpan=c),l>1&&(h[0].rowSpan=l);var p=h[0];h.splice(0,1),this.deleteCells(h,null,null,r,i),this.paintResizeBoxes(p,!0),this.updateMaxPos(p),this.selections[t].reGetCells()}this.updateLayoutContent(r,i)},cancelCellMerging:function(e){var t=this.mainTable.rows;for(var n=0,r=this.selections.length;n<r;n++){var i=this.selections[n].getBound(),s=i.x-2,o=i.x+i.w-2,u=this.getRowColIndex(i.x+1,i.y+1),a=this.getRowColIndex(i.x+i.w-3,i.y+i.h-3),f=a[0]-u[0],l=a[1]-u[1],c=this.getCells(u[0],a[0]-1,s,o);for(var h=0,p=c.length;h<p;h++){l=c[h].colSpan,f=c[h].rowSpan,l>1&&($(this.buildCellHtml(l-1)).insertAfter(c[h]),c[h].colSpan=1);if(f>1){var d=this.buildCellHtml(l),v=c[h].offsetLeft,m=this.getRowIndics(c[h].offsetTop,c[h].offsetTop+c[h].clientHeight);for(var g=m[0]+1;g<=m[1];g++){var y=t[g].cells;for(var b=0,w=y.length;b<w;b++){var E=y[b],S=y[b+1];if(E.offsetLeft<v&&(S&&S.offsetLeft>v||!S)){$(d).insertAfter(E);break}}}c[h].rowSpan=1}}}this.paintResizeBoxes(this.currentCell,!0),e!==!1&&this.updateLayoutContent()},insertRowAfter:function(){this.insertRow(!0)},insertRow:function(e){if(this.selections.length>1){alert("有多个选择区域时不能插入");return}if(this.selections.length===0){alert("请选择单元格");return}var t=this.selections[0],n=0,r=-1,i=0,s;if(t&&t.getCells().length>0){var o=t.getCells()[0],u=o.parentNode,a=u.previousSibling;r=u.rowIndex;while(a){for(i=0;i<a.cells.length;i++)s=a.cells[i],s.rowSpan>=2&&a.rowIndex+s.rowSpan>r&&(s.rowSpan=s.rowSpan+1,n+=s.colSpan);a=a.previousSibling}}else this.headerSelectRowIndex>=0&&(r=this.headerSelectRowIndex);e===!0&&r++;var f=0,l=this.mainTable.rows[0].cells.length-n,c=r!=-1?this.mainTable.insertRow(r):this.mainTable.insertRow();c.setAttribute("d_canAddChild","false");for(i=0;i<l;i++)s=c.insertCell(i),s.className="cell"+(i===0?" first-col":""),i===0&&(s.height=this.rowHeight),s.setAttribute("d_canAddChild","true"),i===0&&(f=s.offsetHeight);this.updateLayoutContent()},insertColAfter:function(){this.insertCol(!0)},insertCol:function(e){if(this.selections.length>1){alert("有多个选择区域时不能插入");return}if(this.selections.length===0){alert("请选择单元格");return}var t=this.selections[0],n=0,r;if(t&&t.getCells().length>0||this.headerSelectColIndex>=0){var i=null;this.headerSelectColIndex>=0?i=this.currentCell:i=t.getCells()[0];var s=this.getColIndex(i);e===!0&&s++;var o=this.mainTable.rows.length,u=[],a=[],f=[];for(n=0;n<o;n++){r=this.mainTable.rows[n],u[n]=r.cells.length;for(var l=1,c=r.cells.length;l<c;l++){var h=r.cells[l],p=h.cellIndex;if(n<=o){p=this.getColIndex(h);if(p==-1)break}if(p==s){u[n]=h.cellIndex;break}if(h.colSpan>=2&&p+h.colSpan>s){a.push(h),f.push(h.colSpan+1);break}if(p+1==s){var d=h.nextSibling;if(d){u[n]=d.cellIndex;break}}else if(p>s)break}}for(n=0;n<a.length;n++)a[n].colSpan=f[n];var v=0;for(n=0;n<this.mainTable.rows.length;n++)if(u[n]!=-1){r=this.mainTable.rows[n];var m=r.insertCell(u[n]);m.className="cell"+(n===0?" first-row":""),n===0&&(m.width=this.columnWidth),m.setAttribute("d_canAddChild","true"),n===0&&(v=m.offsetWidth)}}else for(n=0;n<this.mainTable.rows.length;n++){r=this.mainTable.rows[n];var g=r.insertCell();g.className="cell"+(n===0?" first-row":""),n===0&&(g.width=this.columnWidth),g.setAttribute("d_canAddChild","true")}this.updateLayoutContent()},deleteRow:function(){if((!this.selections[0]||this.selections[0].getCells().length===0)&&this.headerSelectRowIndex<0)return;var e=[],t=0,n=0,r=0;if(this.headerSelectRowIndex>=0)e=[this.mainTable.rows[this.headerSelectRowIndex]];else{var i={};for(t=0;t<this.selections.length;t++){var s=this.selections[t].getCells();for(n=0;n<s.length;n++){var o=s[n].parentNode,u=o.rowIndex;i["_"+u]||(e.push(o),i["_"+u]=!0);for(r=1;r<s[n].rowSpan;r++)i["_"+(u+r)]||(e.push(this.mainTable.rows[u+r]),i["_"+(u+r)]=!0)}}e=e.sort(function(e,t){return e.rowIndex>t.rowIndex})}var a=e[e.length-1].previousSibling;while(a){for(t=0;t<a.cells.length;t++){var f=a.cells[t];if(f.rowSpan>=2)for(n=0;n<e.length;n++)a.rowIndex+f.rowSpan>e[n].rowIndex&&(f.rowSpan=f.rowSpan-1)}a=a.previousSibling}var l=[],c=[];this.colRowIndicsMap={};for(t=e.length-1;t>=0;t--){var h=e[t];for(n=0;n<h.cells.length;n++){var p=h.cells[n];if(p.rowSpan>=2){var d=this.getColIndex(p),v=h.nextSibling;for(r=0;r<v.cells.length;r++){var m=v.cells[r],g=this.getColIndex(m);if(g>=d){var y=v.insertCell(m.cellIndex);y.rowSpan=p.rowSpan-1,y.colSpan=p.colSpan,y.className="cell",y.setAttribute("d_canAddChild","true");break}}}}this.deleteCells(h.cells,h,null,l,c),this.mainTable.deleteRow(h.rowIndex)}this.clearSelectionUnit(),this.updateLayoutContent(l,c)},deleteCol:function(){if((!this.selections[0]||this.selections[0].getCells().length===0)&&this.headerSelectColIndex<0)return;var e=[],t=0,n=0,r,i=[];if(this.headerSelectColIndex>=0)i.push(this.getCellBound(this.mainTable.rows[0].cells[this.headerSelectColIndex]));else for(n=0;n<this.selections.length;n++)i.push(this.selections[n].getBound());for(t=0;t<this.mainTable.rows.length;t++){r=this.mainTable.rows[t];for(var s=0;s<r.cells.length;s++){var o=r.cells[s],u=this.getCellBound(o);for(n=0;n<i.length;n++){var a=i[n];if(Math.max(u.x,a.x)<Math.min(u.x+u.w,a.x+a.w)){var f={};f.rowIndex=t,f.cellIndex=o.cellIndex,o.colSpan>1?f.colSpan=o.colSpan-1:f.del=!0,e.push(f);break}}}}var l=[],c=[];this.colRowIndicsMap={};for(t=e.length-1;t>=0;t--){var h=e[t].rowIndex,p=e[t].cellIndex;r=this.mainTable.rows[h],e[t].del?this.deleteCells(r.cells[p],r,null,l):r.cells[p].colSpan=e[t].colSpan}this.clearSelectionUnit(),this.updateLayoutContent(l,c)},getColIndex:function(e){try{var t=this.getCellBound(e),n=this.getFirstRowCellByPos(t.x,t.w-2);return n.cellIndex}catch(r){return-1}},getSectionsColIndexes:function(){var e=[],t=this.mainTable.rows[0].cells;for(var n=1;n<t.length;n++){var r=this.getCellBound(t[n]);for(var i=0;i<this.selections.length;i++){var s=this.selections[i].getBound();if(r.x>=s.x&&r.x<s.x+s.w){e.push(t[n].cellIndex);break}}}return e},calcTextSize:function(e){var t=window.tempSpan;t||(t=document.createElement("span"),t.style.position="absolute",t.style.top="-100px",t.style.font="normal 13px 宋体, arial, serif;",document.body.appendChild(t),window.tempSpan=t),t.style.display="",t.innerHTML=e.replaceAll("\n","<br>").replaceAll(" ","&nbsp;");var n=t.offsetWidth+20,r=t.offsetHeight+10;return t.style.display="none",{w:n,h:r}},gotoPrevTd:function(e,t){var n=this.getPrevTd(e);n&&n.cellIndex>0&&(n.offsetLeft<this.domNode.scrollLeft&&(this.domNode.scrollLeft=n.offsetLeft),t?this.updateSelectionUnit(n):(this.clearSelectionUnit(),this.createSelectionUnit(n)))},getPrevTd:function(e){var t=this.getCellBound(e),n=this.getFirstRowCellByPos(t.x,t.w-2),r=n.previousSibling;if(!r)return;var i=this.getCellBound(r),s=null,o=e.parentNode;if(e.rowSpan>1)try{o=this.mainTable.rows[this.moveRowIndex]}catch(u){}while(o&&!s){for(var a=1,f=o.cells.length;a<f;a++){var l=this.getCellBound(o.cells[a]);if(Math.max(i.x,l.x)<Math.min(i.x+i.w,l.x+l.w)){s=o.cells[a];break}}o=o.previousSibling}return s},gotoNextTd:function(e,t){var n=this.getCellBound(e),r=this.getFirstRowCellByPos(n.x,n.w-2),i=r.nextSibling;if(!i)return;var s=0;for(s=1;s<e.colSpan;s++)i&&(i=i.nextSibling);if(!i)return;var o=this.getCellBound(i),u=null,a=e.parentNode;if(e.rowSpan>1)try{a=this.mainTable.rows[this.moveRowIndex]}catch(f){}while(a&&!u){var l=a.cells.length;for(s=1;s<l;s++){var c=this.getCellBound(a.cells[s]);if(Math.max(o.x,c.x)<Math.min(o.x+o.w,c.x+c.w)){u=a.cells[s];break}}a=a.previousSibling}u&&(u.offsetLeft+u.offsetWidth+20>this.domNode.scrollLeft+this.domNode.offsetWidth&&(this.domNode.scrollLeft=this.domNode.scrollLeft+u.offsetWidth),t?this.updateSelectionUnit(u):(this.clearSelectionUnit(),this.createSelectionUnit(u)))},gotoUpTd:function(e,t){var n=this.getUpTd(e);if(!n||n.parentNode.rowIndex===0)return;n.offsetTop<this.domNode.scrollTop&&(this.domNode.scrollTop=n.offsetTop),t?this.updateSelectionUnit(n):(this.clearSelectionUnit(),this.createSelectionUnit(n)),this.moveRowIndex=n.parentNode.rowIndex},getUpTd:function(e){var t=null,n=e.parentNode.previousSibling;while(n&&!t){var r=this.getCellBound(e);for(var i=1,s=n.cells.length;i<s;i++){var o=this.getCellBound(n.cells[i]);if(Math.max(r.x,o.x)<Math.min(r.x+r.w,o.x+o.w)){t=n.cells[i];break}}n=n.previousSibling}return t},gotoDownTd:function(e,t){var n=null,r=e.parentNode.nextSibling;while(r&&!n){var i=this.getCellBound(e);for(var s=1,o=r.cells.length;s<o;s++){var u=this.getCellBound(r.cells[s]);if(Math.max(i.x,u.x)<Math.min(i.x+i.w,u.x+u.w)){n=r.cells[s];break}}r=r.nextSibling}if(!n)return;n.offsetTop+n.offsetHeight+20>this.domNode.scrollTop+this.domNode.offsetHeight&&(this.domNode.scrollTop=this.domNode.scrollTop+n.offsetHeight),t?this.updateSelectionUnit(n):(this.clearSelectionUnit(),this.createSelectionUnit(n)),this.moveRowIndex=n.parentNode.rowIndex},updateAllSelectionUnitBound:function(){for(var e=0;e<this.selections.length;e++){var t=this.selections[e];t.updateBound()}this.paintResizeBoxes(this.currentCell)},updateSelectionUnit:function(e){this.currentCell=e||this.currentCell;if(!this.currentCell)return;var t=this,n=t.getCellBound(this.lastSelectCell),r=n.x,i=n.y,s=r+n.w,o=i+n.h;if($(e).hasClass("first-row")||$(e).hasClass("first-col"))return;var u=t.getCellBound(e),a=Math.min(r,u.x),f=Math.min(i,u.y),l=Math.max(s,u.x+u.w)-a,c=Math.max(o,u.y+u.h)-f;this.selections[this.selections.length-1].setBound({x:a,y:f,w:l,h:c}),t.paintResizeBoxes(e,!0)},hasIntersection:function(e){for(var t=0;t<e.length;t++){var n=e[t];for(var r=t+1;r<e.length;r++){var i=e[r];if(Math.max(n.x,i.x)<Math.min(n.x+n.w,i.x+i.w)&&Math.max(n.y,i.y)<Math.min(n.y+n.h,i.y+i.h))return!0}}return!1},importFromExcel:function(){},getCurrentCellValue:function(){return this.currentCell?this.currentCell.innerHTML:""},setCurrentCellValue:function(e){this.currentCell&&(this.currentCell.innerHTML=e.data)},getCurrentCellProperties:function(){var e={width:80,height:19},t=this.getSelectionsRows(),n=0;for(;n<t.length;n++){var r=t[n],i=r.cells[0].style.height;if(n===0)i?e.height=i:e.height="19px";else if(i&&i!=e.height){e.height="0px";break}}e.height=parseInt(e.height.replace("px",""),10);var s=this.getSectionsColIndexes();for(n=0;n<s.length;n++){var o=this.mainTable.rows[0].cells[s[n]];if(n===0)e.width=o.offsetWidth-1;else if(e.width!=o.offsetWidth-1){e.width=0;break}}return JSON.stringify(e)},setCellProperties:function(e){var t=[],n=0,r;for(;n<this.selections.length;n++){var i=this.selections[n];r=i.getCells(),r.length>0&&t.push({sel:i,cells:r})}if(e.columnWidth>0){var s=this.getSectionsColIndexes();for(n=0;n<s.length;n++)this.mainTable.rows[0].cells[s[n]].style.width=e.columnWidth+"px"}if(e.rowHeight>0){var o=this.getSelectionsRows();for(n=0;n<o.length;n++)o[n].cells[0].style.height=e.rowHeight+"px"}this.updateLayoutContent()},getSelectionsRows:function(){var e=[];if(this.headerSelectRowIndex>=0)e=[this.mainTable.rows[this.headerSelectRowIndex]];else{var t={};for(var n=0;n<this.selections.length;n++){var r=this.selections[n].getCells();for(var i=0;i<r.length;i++){var s=r[i].parentNode,o=s.rowIndex;t["_"+o]||(e.push(s),t["_"+o]=!0);for(var u=1;u<r[i].rowSpan;u++)t["_"+(o+u)]||(e.push(this.mainTable.rows[o+u]),t["_"+(o+u)]=!0)}}e=e.sort(function(e,t){return e.rowIndex>t.rowIndex})}return e},updateBeforeCellsHeight:function(e,t){for(var n=1;n<=e;n++){var r=this.mainTable.rows[n];if(!r)break;var i=r.cells.length,s=r.cells[0].style.height;s?s=parseInt(s.replace("px",""),10):s=19;var o;for(var u=1;u<=t&&u<i;u++){var a=r.cells[u];if(!a)break;if(a.rowSpan<2)a.style.height=s+"px";else{var f=s;for(o=1;o<a.rowSpan;o++){var l=this.mainTable.rows[n+o].cells[0].style.height;l?l=parseInt(l.replace("px",""),10):l=19,f+=l}a.style.height=f+"px"}var c=a.childNodes,h=c.length;for(o=0;o<h;o++)c[o].tagName=="TEXTAREA"&&(c[o].style.height=a.style.height)}}},showHideCellBorder:function(){var e=this.mainTable.className;e.indexOf("nocellborder")==-1?e+=" nocellborder":e=e.replace("nocellborder",""),this.mainTable.className=e},getCell:function(e,t){var n=this.mainTable.rows[e];if(n)return n.cells[t]}};var quickIdeEx={"$UI/system/components/justep/cellLayout/cellLayout":{styleConfig:function(e){return[e.getCommonStyleItem("font"),e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border")]}}};return{"$UI/system/components/justep/cellLayout/cellLayout":CellLayout,quickIdeEx:quickIdeEx}}),define("$model/UI2/system/components/justep/button/designer/button",["require","jquery","$UI/system/components/justep/common/designer/common","$UI/system/components/designerCommon/js/xuiService","../button","../buttonGroup","../radio","../checkbox","../radioPC","../checkboxPC","../toggle","css!./css/button"],function(e){function d(e,r){e.$domNode=t(e.domNode),e.$domNode.append("<input type='"+r+"'/><label/>");var i=n.attr2js(e.$domNode,["label","name","value"]);i&&e.set(i)}function g(e,r){e.$domNode=t(e.domNode),e.$domNode.append("<label><input type='"+r+"'/><span/></label>");var i=n.attr2js(e.$domNode,["label","name","value"]);i&&e.set(i)}function w(e){e.$domNode=t(e.domNode);var r=e.$domNode.attr("type"),i=e.$domNode.attr("ON"),s=e.$domNode.attr("OFF");r||(r="radio"),i||(i="ON"),s||(s="OFF"),e.$domNode.append("<input type='"+r+"'/><label data-on='"+i+"' data-off='"+s+"'><span/></label>");var o=n.attr2js(e.$domNode,["name","value"]);o||(o={}),o.label={on:i,off:s},o&&e.set(o)}var t=e("jquery"),n=e("$UI/system/components/justep/common/designer/common"),r=e("$UI/system/components/designerCommon/js/xuiService"),i=r.getXuiDoc(),s=e("../button"),o=e("../buttonGroup"),u=e("../radio"),a=e("../checkbox"),f=e("../radioPC"),l=e("../checkboxPC"),c=e("../toggle");e("css!./css/button").load();var h=s.extend({init:function(e,r){var s=t(this.domNode);this.callParent(e,r);var o=n.attr2js(s,["label","icon","image"]);o&&this.set(o);var u=i.get(this,"onClick");u&&0<u.indexOf("operation")&&this.on("onClick",u),s.removeAttr("onclick").off("click"),this._d_inited_=!0,this._getLabelNode().attr("d_selectable",!1).attr("d_canRemove",!1).attr("d_canAddChild",!1),this._getIconNode().attr("d_selectable",!1).attr("d_canRemove",!1).attr("d_canAddChild",!1),this._getImgNode().attr("d_selectable",!1).attr("d_canRemove",!1).attr("d_canAddChild",!1)},set:function(e,t){this.callParent(e,t),this.bindOperation(t)},bindOperation:function(e){e&&e.name&&e.name=="onClick"&&this.on(e.name,e.value||"{}")},_getImgUrl:function(e){if(typeof e=="string"&&0===e.indexOf("img:")){var t=e.indexOf("|");return!this.disabled||t<0?(t<0&&(t=e.length),e.slice(4,t)):e.slice(t)}},propertyChangedHandler:function(e,t,n){var r,s,o,u;switch(e){case"label":this.callParent(e,t,n),this._d_inited_&&i.updateText(this._getLabelNode());break;case"disabled":this.$domNode&&this.isImgIcon&&(r=this._getImgNode(),s=this._getIconNode(),s.removeAttr("class"),i.updateProperties(s,["class"]),u=!1,r.size()<=0&&(u=!0,this._getLabelNode().before('<img d_selectable="false" d_canRemove="false"/>')),r=this._getImgNode(),o=this._getImgUrl(n),r.attr("src",o?o:""),u?i.updateNodes(r):i.updateProperties(r,["src"]),r.attr("src",this.imgIcon[this.disabled?1:0]));break;case"icon":t!=n&&(this._setIcon(this.icon||this.opIcon),this.$domNode&&(this.isImgIcon?(r=this._getImgNode(),n&&(s=this._getIconNode(),s.removeAttr("class"),i.updateProperties(s,["class"]),u=!1,r.size()<=0&&(u=!0,this._getLabelNode().before('<img d_selectable="false" d_canRemove="false"/>')),r=this._getImgNode(),o=this._getImgUrl(n),r.attr("src",o?o:""),u?i.updateNodes(r):i.updateProperties(r,["src"]),r.attr("src",this.imgIcon[this.disabled?1:0]))):(s=this._getIconNode(),t&&s.removeClass(t),this.opIcon&&s.removeClass(this.opIcon),n&&s.addClass(this.icon||this.opIcon),i.updateProperties(s,["class"]),r=this._getImgNode(),r.size()>0&&(r.attr("d_id")&&i.deleteComponent([r.attr("d_id")]),r.remove()))));break;default:this.callParent(e,t,n)}}}),p=o.extend({init:function(e,r){var i=t(this.domNode),s=n.attr2js(i,["selected"]);this.callParent(e,r),s&&this.set(s),this.$domNode.off("click")},addButton:function(){i.createComponent("$UI/system/components/justep/button/button",this,{paintComponent:!0})}}),v=u.extend({init:function(e,t){d(this,"radio"),this.callParent(e,t),this._getInput().off("click")}}),m=a.extend({init:function(e,t){d(this,"checkbox"),this.callParent(e,t),this._getInput().off("click")}}),y=f.extend({init:function(e,t){g(this,"radio"),this.callParent(e,t),this._getInput().off("click")}}),b=l.extend({init:function(e,t){g(this,"checkbox"),this.callParent(e,t),this._getInput().off("click")}}),E=c.extend({init:function(e,t){w(this),this.callParent(e,t),this._getInput().off("click"),this.ON=this.label.on,this.OFF=this.label.off},propertyChangedHandler:function(e,t,n){switch(e){case"ON":case"OFF":this._inited&&this.set({label:{on:this.ON,off:this.OFF}});break;default:this.callParent(e,t,n)}}}),S={"$UI/system/components/justep/button/button":{styleConfig:function(e){var t="color: #ffffff !important; background-color: #3399f3 !important;  border-color: #3399f3 !important;",n="color: #ffffff; background-color: #2fa4e7; border-color: #2fa4e7;",r="color: #ffffff;  background-color: #033c73; border-color: #033c73;",i="color: #ffffff; background-color: #dd5600;  border-color: #dd5600;";return e.isBizIde&&(t="",n="",r="",i=""),[{text:"预定义样式",id:"preStyle",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,optionData:[{propName:"class",value:"btn-default",text:"<button class='btn btn-default' style='"+t+"width:60px;margin:5px'>default1</button>"},{propName:"class",value:"btn-primary",text:"<button class='btn btn-primary' style='"+n+"width:60px;margin:5px'>primary</button>"},{propName:"class",value:"btn-info",text:"<button class='btn btn-info' style='"+r+"width:60px;margin:5px'>info</button>"},{propName:"class",value:"btn-success",text:"<button class='btn btn-success' style='width:60px;margin:5px'>success</button>"},{propName:"class",value:"btn-warning",text:"<button class='btn btn-warning' style='"+i+"width:60px;margin:5px'>warning</button>"},{propName:"class",value:"btn-danger",text:"<button class='btn btn-danger' style='width:60px;margin:5px'>danger</button>"},{propName:"class",value:"x-black",text:"<button class='btn x-black' style='width:60px;margin:5px'>black</button>"},{propName:"class",value:"x-blue",text:"<button class='btn x-blue' style='width:60px;margin:5px'>blue</button>"},{propName:"class",value:"x-orange",text:"<button class='btn x-orange' style='width:60px;margin:5px'>orange</button>"},{propName:"class",value:"x-green",text:"<button class='btn x-green' style='width:60px;margin:5px'>green</button>"},{propName:"class",value:"x-red",text:"<button class='btn x-red' style='width:60px;margin:5px'>red</button>"},{propName:"class",value:"x-yellow",text:"<button class='btn x-yellow' style='width:60px;margin:5px'>yellow</button>"},{propName:"class",value:"x-purple",text:"<button class='btn x-purple' style='width:60px;margin:5px'>purple</button>"},{propName:"class",value:"btn-link",text:"<button class='btn btn-link' style='width:60px;margin:5px'>link</button>"}],editor:"listEditor"}]},{text:"形状",id:"shage",isGroup:!0,items:[{name:"style",noLabel:!0,optionData:[{propName:"style",value:"border-radius:5px",text:"<button class='btn btn-success' style='width:70px;margin:6px'>方角</button>"},{propName:"style",value:"border-radius:15px",text:"<button class='btn btn-success' style='border-radius:15px;width:70px;margin:6px'>圆角</button>"}],editor:"listEditor"}]},{text:"图标",id:"icon",isGroup:!0,items:[{name:"icon",noLabel:!0,selectMode:"0",optionData:[{propName:"class",name:"icon",value:"",text:"<a class='font-icon-a linear ' style='font-size: 20px;'>无</a>"},{propName:"class",name:"icon",value:"linear linear-sync",text:"<a class='font-icon-a linear linear-sync' style='font-size: 19px;padding: 0px 3px;'></a>"},{propName:"class",name:"icon",value:"linear linear-users",text:"<a class='font-icon-a linear linear-users' style='font-size: 19px;padding: 0px 3px;'></a>"},{propName:"class",name:"icon",value:"linear linear-user",text:"<a class='font-icon-a linear linear-user' style='font-size: 19px;padding: 0px 3px;'></a>"},{propName:"class",name:"icon",value:"linear linear-undo",text:"<a class='font-icon-a linear linear-undo' style='font-size: 19px;padding: 0px 3px;'></a>"},{propName:"class",name:"icon",value:"linear linear-trash",text:"<a class='font-icon-a linear linear-trash' style='font-size: 19px;padding: 0px 3px;'></a>"},{propName:"class",name:"icon",value:"linear linear-bubble",text:"<a class='font-icon-a linear linear-bubble' style='font-size: 19px;padding: 0px 3px;'></a>"},{propName:"class",name:"icon",value:"linear linear-chevronleft",text:"<a class='font-icon-a linear linear-chevronleft' style='font-size: 19px;padding: 0px 3px;'></a>"},{propName:"class",name:"icon",value:"linear linear-chevronright",text:"<a class='font-icon-a linear linear-chevronright' style='font-size: 19px;padding: 0px 3px;'></a>"},{propName:"class",name:"icon",value:"linear linear-chevronup",text:"<a class='font-icon-a linear linear-chevronup' style='font-size: 18px;padding: 0px 3px;'></a>"},{propName:"class",name:"icon",value:"linear linear-cog",text:"<a class='font-icon-a linear linear-cog' style='font-size: 18px;padding: 0px 3px;'></a>"},{propName:"class",name:"icon",value:"linear linear-cross",text:"<a class='font-icon-a linear linear-cross' style='font-size: 17px;padding: 0px 3px;'></a>"},{propName:"class",name:"icon",value:"linear linear-arrowupcircle",text:"<a class='font-icon-a linear linear-arrowupcircle' style='font-size: 19px;padding: 0px 3px;'></a>"},{propName:"class",name:"icon",value:"linear linear-arrowup",text:"<a class='font-icon-a linear linear-arrowup' style='font-size: 19px;padding: 0px 3px;'></a>"},{propName:"class",name:"icon",value:"linear linear-arrowrightcircle",text:"<a class='font-icon-a linear linear-arrowrightcircle' style='font-size: 19px;padding: 0px 3px;'></a>"},{propName:"class",name:"icon",value:"e-commerce e-commerce-jiahao",text:"<a class='font-icon-a e-commerce e-commerce-jiahao' style='font-size: 19px;padding: 0px 3px;'></a>"},{propName:"class",name:"icon",value:"e-commerce e-commerce-gou",text:"<a class='font-icon-a e-commerce e-commerce-gou' style='font-size: 19px;padding: 0px 3px;'></a>"}],editor:"listEditor"}]},{id:"iconPosition",text:"图标位置",isGroup:!0,items:[{name:"class",noLabel:!0,optionData:[{propName:"class",value:"btn-icon-left",text:"<button class='btn btn-success ' style='margin:6px;width:66px;'>居左</button>"},{propName:"class",value:"btn-icon-top",text:"<button class='btn btn-success ' style='margin:6px;width:66px;'>居上</button>"},{propName:"class",value:"btn-icon-bottom",text:"<button class='btn btn-success ' style='margin:6px;width:66px;'>居下</button>"},{propName:"class",value:"btn-icon-right",text:"<button class='btn btn-success ' style='margin:6px;width:66px;'>居右</button>"}],editor:"listEditor"}]},{id:"displayStyle",text:"按钮展现形式",isGroup:!0,items:[{name:"class",noLabel:!0,optionData:[{propName:"class",value:"btn-only-icon",text:"<button class='btn btn-success btn-icon-left e-commerce e-commerce-tupian' style='margin:6px'></button>"},{propName:"class",value:"btn-only-label",text:"<button class='btn btn-success' style='margin:8px 12px;'>只显示标签</button>"},{propName:"class",value:"",text:"<button class='btn btn-success e-commerce e-commerce-tupian' style='margin:6px'>默认全显示</button>"}],editor:"listEditor"}]},{id:"size",text:"尺寸样式",isGroup:!0,items:[{name:"class",noLabel:!0,optionData:[{propName:"class",value:"btn-lg",text:"<button class='btn btn-success btn-lg' style='margin:6px'>大按钮</button>"},{propName:"class",value:"btn-sm",text:"<button class='btn btn-success btn-sm' style='margin:6px'>小按钮</button>"},{propName:"class",value:"btn-xs",text:"<button class='btn btn-success btn-xs' style='margin:6px'>超小按钮</button>"},{propName:"class",value:"",text:"<button class='btn btn-success' style='margin:6px'>默认大小</button>"}],editor:"listEditor"}]},{id:"border",text:"边距",isGroup:!0,items:[{name:"边距",noLabel:!0,selectMode:"0",editor:"marginEditor"}]},e.getCommonStyleItem("font"),e.getCommonStyleItem("border"),e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("position")]}},"$UI/system/components/justep/button/radio":{styleConfig:function(e){return[e.getCommonStyleItem("radio-size"),e.getCommonStyleItem("radio-group-ext"),e.getCommonStyleItem("radio-group-color"),e.getCommonStyleItem("position")]}},"$UI/system/components/justep/button/checkbox":{styleConfig:function(e){return[e.getCommonStyleItem("checkbox-size"),e.getCommonStyleItem("checkbox-group-ext"),e.getCommonStyleItem("checkbox-group-color"),e.getCommonStyleItem("position")]}}},x={"$UI/system/components/justep/button/button":{properties:["xid",{name:"label"},"target","icon"],events:["onClick"],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/button/button")}},"$UI/system/components/justep/button/radio":{properties:["bind-ref","bind-label","name","bind-value","label","value","checkedValue","uncheckedValue","checked"],events:["onChange"],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/button/radio")}},"$UI/system/components/justep/button/radioPC":{properties:["xid","bind-ref","bind-label","name","bind-value","label","value","checkedValue","uncheckedValue","checked"],events:["onChange"],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/button/radio")}},"$UI/system/components/justep/button/checkbox":{properties:["bind-ref","name","label","value","bind-label","bind-value","checkedValue","uncheckedValue","checked"],events:["onChange"],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/button/checkbox")}},"$UI/system/components/justep/button/checkboxPC":{properties:["xid","bind-ref","name","label","value","bind-label","bind-value","checkedValue","uncheckedValue","checked"],events:["onChange"],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/button/checkbox")}},"$UI/system/components/justep/button/toggle":{properties:["bind-ref","value","checkedValue","uncheckedValue","checked","ON","OFF"]},"$UI/system/components/justep/button/buttonGroup":{properties:["xid","tabbed",{name:"selected",editor:"buttonXidEditor"}],events:["onSelect"],toolbar:[{text:"增加按钮",method:"addButton"}],styleConfig:function(e){return[{text:"风格",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,optionData:[{propName:"class",value:"",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:60px'>默认</button>"},{propName:"class",value:"x-card",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:60px'>卡片风格</button>"}],editor:"listEditor"}]},{text:"尺寸样式",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,optionData:[{propName:"class",value:"btn-group-lg",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:60px'>大</button>"},{propName:"class",value:"",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:60px'>中</button>"},{propName:"class",value:"btn-group-sm",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:60px'>小</button>"},{propName:"class",value:"btn-group-xs",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:60px'>很小</button>"}],editor:"listEditor"}]},{text:"排列方式",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,optionData:[{propName:"class",value:"",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:60px'>水平</button>"},{propName:"class",value:"btn-group-vertical",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:60px'>垂直</button>"},{propName:"class",value:"btn-group-justified",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:60px'>水平充满</button>"}],editor:"listEditor"}]}]}}};return{"$UI/system/components/justep/button/button":h,"$UI/system/components/justep/button/buttonGroup":p,"$UI/system/components/justep/button/radio":v,"$UI/system/components/justep/button/checkbox":m,"$UI/system/components/justep/button/radioPC":y,"$UI/system/components/justep/button/checkboxPC":b,"$UI/system/components/justep/button/toggle":E,webIdeEx:S,quickIdeEx:x}}),define("$model/UI2/system/components/justep/windowContainer/designer/windowContainer",["require","jquery","$UI/system/lib/justep","../windowContainer","css!./css/windowContainer"],function(e){var t=e("jquery"),n=e("$UI/system/lib/justep"),r=e("../windowContainer");e("css!./css/windowContainer").load();var i=r.extend({refresh:function(){var e=t(this.domNode),n=e.attr("src");e.addClass("x-window-container").text("页面文件："+(n?n:""))},set:function(e,n){if("src"in e){var r=t(this.domNode),i=e.src;n&&(i=n.value),r.attr("src",i),this.refresh()}}});n.Component.addOperations(i,{containerRefresh:{label:n.Message.getMessage(n.Message.JUSTEP231007),argsDef:[{name:"url",displayName:"url"},{name:"param",displayName:"param"}],method:function(e){}}});var s={"$UI/system/components/justep/widgets/widgets":{styleConfig:function(e){return[e.getCommonStyleItem("pull"),e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("param"),e.getCommonStyleItem("position")]}}},o={"$UI/system/components/justep/windowContainer/windowContainer":{properties:[{name:"src"},"params",{name:"autoLoad",text:"自动加载页面"},{name:"routable",text:"使用路由"}],operations:function(){return[{groupName:"子页面",items:[{name:"containerRefresh",label:"刷新",argExtends:{url:{label:"页面URL",editor:"pageUrlEditor"},param:{label:"参数",editor:"jsExpressionEX"}}}]}]},events:["onBeforeLoad","onLoad","onLoadError","onReceive"]}};return{"$UI/system/components/justep/windowContainer/windowContainer":i,quickIdeEx:o,webIdeEx:s}}),define("$model/UI2/system/components/justep/contents/designer/contents",["require","css!./contents","jquery","../contents","$UI/system/components/designerCommon/js/xuiService","$UI/system/lib/base/component","../content","bind"],function(e){e("css!./contents").load();var t=e("jquery"),n=e("../contents"),r=e("$UI/system/components/designerCommon/js/xuiService"),i=e("$UI/system/lib/base/component"),s=e("../content"),o=e("bind");r.regComponents({"$UI/system/components/justep/contents/content":s});var u=n.extend({init:function(e,n){t(this.domNode).attr("d_resizable","false").attr("d_canAddChild","false");var r=this.callParent(e,n);return t(">.x-contents-content",this.$domNode).each(function(e,n){t(this).attr("d_canAddChild","true").attr("d_resizable",!1).selectable(!0)}),r},add:function(){var e=this;r.getXuiDoc().createComponent("$UI/system/components/justep/contents/content",this,{paintComponent:!0},function(e){var n=t(e).attr("d_id"),r=t("[d_id="+n+"]");r.attr("d_canAddChild","true").attr("d_resizable",!1).selectable(!0)})}});s.prototype.compTip=function(e){var t=this.$domNode.parent().children().length,n=this.$domNode.index();return e+"(<span style='color:red;'>"+(n+1)+"/"+t+"</span>)"},s.prototype.add=function(){var e=this;r.getXuiDoc().createComponent("$UI/system/components/justep/contents/content",this.$domNode.parent().attr("d_id"),{paintComponent:!0},function(e){var n=t(e).attr("d_id"),r=t("[d_id="+n+"]");r.attr("d_canAddChild","true").attr("d_resizable",!1).selectable(!0)})},s.prototype.onRemove=function(e){var t=this.$domNode.index();this.owner.remove(t)};var a={"$UI/system/components/justep/contents/contents":{styleConfig:function(e){return[e.getCommonStyleItem("layout"),e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border")]}}},f={"$UI/system/components/justep/contents/contents":{properties:["wrap","swipe","active","slidable","routable"],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/contents/contents")},operations:function(){return[{groupName:"内容块切换操作",items:[{name:"to",label:"跳转",argExtends:{xid:{editor:"contentXidEditor"}}},{name:"next",label:"下一页"},{name:"prev",label:"前一页"}]}]},templateContent:function(e){var n="",r=e.parent;if(r.getAttribute("component")=="$UI/system/components/justep/window/window"||t(r).hasClass("x-panel-content"))n="x-full";var i='<div component="$UI/system/components/justep/contents/contents" class="x-contents '+n+'" active="0">'+'   <div class="x-contents-content"></div>'+"</div>	";return i},toolbar:[{text:"添加内容页",method:"add"}],getSubCompConfig:function(e){var t=e.getAttribute("componentname");if(e.parentNode&&e.parentNode.getAttribute("component")=="$UI/system/components/justep/contents/contents")return this.subComps[t]},selectChild:function(e){},subComps:{}},"$UI/system/components/justep/contents/content":{text:"内容块",properties:[{name:"label",text:"标签名"}],styleConfig:function(e){return[e.getCommonStyleItem("backgroundColor"),{id:"padding",text:"内边距",isGroup:!0,items:[{name:"padding",noLabel:!0,selectMode:"0",showMarginOrPadding:"2",editor:"marginEditor"}]},e.getCommonStyleItem("font")]}}};return{"$UI/system/components/justep/contents/contents":u,quickIdeEx:f,webIdeEx:a}}),define("$model/UI2/system/components/justep/controlGroup/designer/controlGroup",["require","$UI/system/components/designerCommon/js/xuiService","../controlGroup","$UI/system/lib/justep"],function(e){var t=e("$UI/system/components/designerCommon/js/xuiService"),n=t.getXuiDoc(),r=e("../controlGroup"),i=e("$UI/system/lib/justep"),s=r.extend({init:function(e,t){this.callParent(e,t),this.$domNode.attr("d_canAddChild","true"),this.set({title:this.$domNode.attr("title")}),this._getTitleNode().attr("d_canRemove",!1),this._d_inited_=!0},propertyChangedHandler:function(e,t,r){this.callParent(e,t,r),"title"==e&&this._d_inited_&&n.updateText(this._getTitleNode().find("span:first"))}}),o=i.ViewComponent.extend({init:function(e,t){this.callParent(e,t),this._d_inited_=!0},set:function(e){"text"in e&&this._d_inited_&&n.set(this.getModel().getComponent(this.$domNode.parent()[0]),{title:e.text})}}),u={"$UI/system/components/justep/controlGroup/controlGroup":{properties:["title","collapsible","collapsed"],styleConfig:function(e){return[e.getCommonStyleItem("font"),e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border"),e.getCommonStyleItem("position")]}}};return{"$UI/system/components/justep/controlGroup/controlGroup":s,"$UI/system/components/justep/controlGroup/controlGroup#controlGroupTitle":o,quickIdeEx:u}}),define("$model/UI2/system/components/justep/dialog/designer/dialog",["require","jquery","$UI/system/lib/base/viewComponent","css!./css/dialog"],function(e){var t=e("jquery"),n=e("$UI/system/lib/base/viewComponent");e("css!./css/dialog").load();var r=function(e,n){var r=t(e.domNode);e.domNode.style.position="absolute",e.domNode.style.top||(e.domNode.style.top="10px",e.domNode.style.left="10px"),r.addClass(n)},i=n.extend({init:function(e,t){r(this,"x-dialog-designer"),this.callParent(e,t)}}),s={"$UI/system/components/justep/dialog/dialog":{properties:["xid","title","showTitle","status","width","height","top","left","routable","resizable"]}};return{"$UI/system/components/justep/dialog/dialog":i,quickIdeEx:s}}),define("$model/UI2/system/components/justep/input/designer/input",["require","jquery","../input","../password","../range","$UI/system/components/justep/common/designer/common"],function(e){function o(e){e.$domNode=t(e.domNode),e.$domNode.on("keypress paste",function(e){return!1});var n=s.attr2js(e.$domNode,["placeHolder","disabled"]);n&&e.set(n)}var t=e("jquery"),n=e("../input"),r=e("../password"),i=e("../range"),s=e("$UI/system/components/justep/common/designer/common"),u=n.extend({init:function(e,t){this.callParent(e,t),o(this)}}),a=r.extend({init:function(e,n){t(this.domNode).attr("type","password"),this.callParent(e,n),o(this)}}),f=i.extend({init:function(e,n){t(this.domNode).attr("type","range"),this.callParent(e,n),o(this)}}),l={"$UI/system/components/justep/input/input":{styleConfig:function(e){return[e.getCommonStyleItem("input-size"),e.getCommonStyleItem("font"),e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border"),e.getCommonStyleItem("position")]}},"$UI/system/components/justep/input/password":{styleConfig:function(e){return[e.getCommonStyleItem("input-size"),e.getCommonStyleItem("font"),e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border"),e.getCommonStyleItem("position")]}},"$UI/system/components/justep/input/range":{styleConfig:function(e){return[e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border"),e.getCommonStyleItem("position")]}}},c={"$UI/system/components/justep/input/input":{properties:["bind-ref","format",{name:"value",text:"值"},"placeHolder"],events:[{name:"onChange",text:"值改变事件",editor:"eventEditor",noLabel:!0}],styleConfig:function(e){return[e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border")]}},"$UI/system/components/justep/input/password":{properties:["bind-ref",{name:"value",text:"值"},"placeHolder"],events:[{name:"onChange",text:"值改变事件",editor:"eventEditor",noLabel:!0}],styleConfig:function(e){return[e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border")]}},"$UI/system/components/justep/input/range":{properties:["bind-ref","min","max",{name:"value",text:"值"}],events:[{name:"onChange",text:"值改变事件",editor:"eventEditor",noLabel:!0}],styleConfig:function(e){return[e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border"),e.getCommonStyleItem("position")]}}};return{"$UI/system/components/justep/input/input":u,"$UI/system/components/justep/input/password":a,"$UI/system/components/justep/input/range":f,webIdeEx:l,quickIdeEx:c}}),define("$model/UI2/system/components/justep/labelEdit/designer/labelEdit",["require","../labelEdit","css!./css/labelEdit"],function(e){var t=e("../labelEdit");e("css!./css/labelEdit").load();var n=t.extend({init:function(e,t){this.callParent(e,t),this.$domNode.find("div.x-edit").attr("d_canAddChild","true").addClass("x-min-height"),this.$domNode.children(".x-label").attr("d_canRemove",!1).attr("d_canMove",!1),this.$domNode.children(".x-edit").attr("d_canRemove",!1).attr("d_canMove",!1).attr("d_resizable","false")},set:function(e){"label"in e&&this.$domNode.find(">label").text(e.label||"")}}),r={"$UI/system/components/justep/labelEdit/labelEdit":{styleConfig:function(e){return[{text:"标签宽度",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,optionData:[{propName:"class",value:"none",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:54px'>0</button>"},{propName:"class",value:"x-label5",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:54px;'>5%</button>"},{propName:"class",value:"x-label10",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:54px;'>10%</button>"},{propName:"class",value:"x-label15",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:54px;'>15%</button>"},{propName:"class",value:"x-label20",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:54px;'>20%</button>"},{propName:"class",value:"x-label25",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:54px;'>25%</button>"},{propName:"class",value:"x-label30",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:54px;'>30%</button>"},{propName:"class",value:"x-label35",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:54px;'>35%</button>"},{propName:"class",value:"x-label40",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:54px;'>40%</button>"},{propName:"class",value:"x-label45",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:54px;'>45%</button>"},{propName:"class",value:"x-label50",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:54px;'>50%</button>"},{propName:"class",value:"x-label55",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:54px;'>55%</button>"},{propName:"class",value:"x-label60",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:54px;'>60%</button>"}],editor:"listEditor"}]},e.getCommonStyleItem("font"),e.getCommonStyleItem("backgroundColor")]}}},i={"$UI/system/components/justep/labelEdit/labelEdit":{properties:[{name:"label",text:"标签",path:"label/text()"}],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/labelEdit/labelEdit")}},"$UI/system/components/justep/labelEdit/labelInput":{properties:[{name:"label",text:"标签",path:"label/text()"}],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/labelEdit/labelEdit")}},"$UI/system/components/justep/labelEdit/labelPassword":{properties:[{name:"label",text:"标签",path:"label/text()"}],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/labelEdit/labelEdit")}},"$UI/system/components/justep/labelEdit/labelRange":{properties:[{name:"label",text:"标签",path:"label/text()"}],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/labelEdit/labelEdit")}},"$UI/system/components/justep/labelEdit/labelOutput":{properties:[{name:"label",text:"标签",path:"label/text()"}],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/labelEdit/labelEdit")}},"$UI/system/components/justep/labelEdit/labelSelect":{properties:[{name:"label",text:"标签",path:"label/text()"}],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/labelEdit/labelEdit")}},"$UI/system/components/justep/labelEdit/labelTextarea":{properties:[{name:"label",text:"标签",path:"label/text()"}],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/labelEdit/labelEdit")}},"$UI/system/components/justep/labelEdit/labelRadioGroup":{properties:[{name:"label",text:"标签",path:"label/text()"}],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/labelEdit/labelEdit")}},"$UI/system/components/justep/labelEdit/labelCheckboxGroup":{properties:[{name:"label",text:"标签",path:"label/text()"}],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/labelEdit/labelEdit")}},"$UI/system/components/justep/labelEdit/labelToggle":{properties:[{name:"label",text:"标签",path:"label/text()"}],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/labelEdit/labelEdit")}}};return{webIdeEx:r,quickIdeEx:i,"$UI/system/components/justep/labelEdit/labelEdit":n,"$UI/system/components/justep/labelEdit/labelInput":n,"$UI/system/components/justep/labelEdit/labelOutput":n,"$UI/system/components/justep/labelEdit/labelSelect":n,"$UI/system/components/justep/labelEdit/labelTextarea":n,"$UI/system/components/justep/labelEdit/labelRadioGroup":n,"$UI/system/components/justep/labelEdit/labelCheckboxGroup":n,"$UI/system/components/justep/labelEdit/labelToggle":n}}),define("$model/UI2/system/components/justep/list/designer/list",["require","../list","css!./css/list","$UI/system/components/designerCommon/js/xuiService"],function(e){var t=e("../list");e("css!./css/list").load();var n=e("$UI/system/components/designerCommon/js/xuiService"),r=n.getXuiDoc(),i=t.extend({init:function(e,t){this.callParent(e,t);var n=this.$domNode;this.$domNode.attr("d_canAddChild","true").attr("d_resizable","false").children("div.x-list-head").addClass("x-min-height").attr("d_canAddChild","true"),this.$domNode.children(".x-list-content").attr("d_selectable",!1),this.$domNode.find(".x-list-template").addClass("x-min-height").attr("d_canAddChild","true").attr("d_selectable",!1).children().addClass("x-min-height"),this.$domNode.find(">.x-list-template>*").attr("d_resizable","false"),this.$domNode.on("childChanged",function(e,t){if(e.target!=n[0])return;if(t&&t.type=="styleChanged"&&t.attrName=="class"){var i=t.value;if(i){var s=i.split(" "),o;for(var u=0;u<s.length;u+=1)if(s[u]=="x-cards"){o=$(">.x-list-template",n),o.length>0&&(o.hasClass("list-group")||(o.addClass("list-group"),$(">*",o).addClass("list-group-item"),r.updateNodes(o,null,function(){r.updateNodes($(">*",o))})));return}if(n.hasClass("x-cards"))return;o=$(">.x-list-template",n),o.length>0&&(o.removeClass("list-group"),$(">*",o).removeClass("list-group-item"),r.updateNodes(o,null,function(){r.updateNodes($(">*",o))}))}}})},addDivTemplate:function(){r.createComponent("$UI/system/components/justep/list/list#listTemplateDiv",this,{paintComponent:!0})},addULTemplate:function(){r.createComponent("$UI/system/components/justep/list/list#listTemplateUl",this,{paintComponent:!0})},addTableTemplate:function(){r.createComponent("$UI/system/components/justep/list/list#listTemplateTable",this,{paintComponent:!0})}}),s={"$UI/system/components/justep/list/list(UL)":{styleConfig:function(e){return[e.getCommonStyleItem("card-style"),commonStyleItemConfig.getConfig("baseStyle"),commonStyleItemConfig.getConfig("position")]}},"$UI/system/components/justep/list/list(Table)":{styleConfig:function(e){return[e.getCommonStyleItem("card-style"),commonStyleItemConfig.getConfig("baseStyle"),commonStyleItemConfig.getConfig("position")]}},"$UI/system/components/justep/list/list":{styleConfig:function(e){return[e.getCommonStyleItem("card-style"),commonStyleItemConfig.getConfig("baseStyle"),commonStyleItemConfig.getConfig("position")]}}},o={"$UI/system/components/justep/list/list":{properties:[{name:"data",editor:"dataSelector"},{name:"label",text:"标签"},"dataItemAlias","limit","filter","autoLoad","disablePullToRefresh","disableInfiniteLoad"],getSubCompConfig:function(e){var t=e.getAttribute("componentname");if(e.parentNode&&e.parentNode.parentNode&&e.parentNode.parentNode.getAttribute("component")=="$UI/system/components/justep/list/list")return this.subComps[t]},subCompPath:">*>li",subComps:{"li(html)":{canAdd:!1,canRemove:!1,compTip:function(){return"动态列表模板"},text:"动态列表模板",properties:[{name:"class",text:"自定义样式",editor:"pClassSelector",noLabel:!1}],events:[{name:"bind-click",text:"点击事件",editor:"eventEditor",noLabel:!0}],styleConfig:function(e){return[e.getCommonStyleItem("font"),e.getCommonStyleItem("border")]}}},styleConfig:function(e){return[e.getCommonStyleItem("card-style"),e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("font"),e.getCommonStyleItem("border")]}}};return{"$UI/system/components/justep/list/list":i,quickIdeEx:o,webIdeEx:s}}),define("$model/UI2/system/components/justep/tree/designer/tree",["require","../tree","css!./css/tree"],function(e){var t=e("../tree");e("css!./css/tree").load();var n=t.extend({init:function(e,t){this.callParent(e,t),this.$domNode.children("div.x-tree-head").addClass("x-min-height").attr("d_canAddChild","true").attr("d_canRemove",!1),this.$domNode.children(".x-tree-content").attr("d_canRemove",!1).attr("d_selectable",!1),this.$domNode.find(".x-tree-template").addClass("x-min-height").attr("d_canAddChild","true").attr("d_canRemove",!1).attr("d_selectable",!1).children().addClass("x-min-height"),this.$domNode.find(".x-tree-head .breadcrumb").attr("d_canRemove",!1),this.$domNode.find(".x-scroll").attr("d_selectable",!1)},_bindEvent:function(){var e=this.$domNode.attr("rootLabel");e||(e="根"),this.getModel().componentPromise(this.$domNode.find(".x-tree-head .breadcrumb")[0]).done(function(t){t.push({label:e})})},dispose:function(){}}),r={"$UI/system/components/justep/tree/tree":{properties:["xid","data","labelColumn","rootLabel","limit","filter","autoLoad","disablePullToRefresh","disableInfiniteLoad"],styleConfig:function(e){return[{text:"扩展样式",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,selectMode:"1",optionData:[{propName:"class",value:"x-inner-scroll",text:"<button class='btn btn-success btn-sm' style='margin:6px'>内部出现滚动条</button>"},{propName:"class",value:"",text:"<button class='btn btn-success btn-sm' style='margin:6px'>内容自增长</button>"}],editor:"listEditor"}]},e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("position")]}}};return{"$UI/system/components/justep/tree/tree":n,quickIdeEx:r}}),define("$model/UI2/system/components/justep/messageDialog/designer/messageDialog",["require","jquery","../messageDialog","css!./css/messageDialog"],function(e){function r(e,n){var r=t(e.domNode);e.domNode.style.position="absolute",e.domNode.style.top||(e.domNode.style.top="10px",e.domNode.style.left="10px"),r.addClass(n)}var t=e("jquery"),n=e("../messageDialog");e("css!./css/messageDialog").load();var i=n.extend({init:function(e,t){r(this,"x-message-dialog"),this.callParent(e,t)}}),s={"$UI/system/components/justep/messageDialog/messageDialog":{properties:["xid","title","message",{name:"inputValue",text:"输入值"},"type",{name:"width",text:"宽"}],operations:function(){return[{groupName:"消息提示框",items:[{name:"show",label:"显示"}]}]}}};return{"$UI/system/components/justep/messageDialog/messageDialog":i,quickIdeEx:s}}),define("$model/UI2/system/components/justep/extendType/designer/commonExtendTypes",["require","jquery","../commonExtendTypes","css!../common/css/extendTypeDesigner"],function(e){var t=e("jquery"),n=e("../commonExtendTypes");e("css!../common/css/extendTypeDesigner").load();var r=function(e,n){var r=t(e.domNode);e.domNode.style.position="absolute",e.domNode.style.top||(e.domNode.style.top="10px",e.domNode.style.left="10px"),r.addClass(n)},i=n.extend({init:function(e,t){r(this,"x-extend-type-designer"),this.callParent(e,t)}}),s={"$UI/system/components/justep/extendType/commonExtendTypes":{properties:["xid"]}};return{"$UI/system/components/justep/extendType/commonExtendTypes":i,quickIdeEx:s}}),define("$model/UI2/system/components/justep/output/designer/output",["require","../output"],function(e){var t=e("../output"),n=t.extend({init:function(e,t){this["bind-ref"]=null,this.callParent(e,t),this.set({"bind-ref":this.$domNode.attr("bind-ref")})},propertyChangedHandler:function(e,t,n){switch(e){case"bind-ref":break;default:this.callParent(e,t,n)}}}),r={"$UI/system/components/justep/output/output":{styleConfig:function(e){return[e.getCommonStyleItem("font"),e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border"),e.getCommonStyleItem("position")]}}},i={"$UI/system/components/justep/output/output":{properties:["bind-ref","format"],events:["onRender"],styleConfig:function(e){return[e.getCommonStyleItem("font"),e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border")]}}};return{"$UI/system/components/justep/output/output":n,webIdeEx:r,quickIdeEx:i}}),define("$model/UI2/system/components/justep/panel/designer/child",["require","jquery","$UI/system/components/justep/panel/child","$UI/system/lib/base/component","$UI/system/components/designerCommon/js/xuiService","bind","../child","$UI/system/components/justep/common/designer/common"],function(e){var t=e("jquery"),n=e("$UI/system/components/justep/panel/child"),r=e("$UI/system/lib/base/component"),i=e("$UI/system/components/designerCommon/js/xuiService"),s=e("bind"),n=e("../child"),o=e("$UI/system/components/justep/common/designer/common"),u=n.extend({init:function(e,t){var n=this.callParent(e,t),r=o.attr2js(this.$domNode,["height","visible"]);return r&&this.set(r),n},onRemove:function(){this.name=="top"?t(">.x-panel-content",this.owner.$domNode).css("top",0):t(">.x-panel-content",this.owner.$domNode).css("bottom",0)}});return u}),define("$model/UI2/system/components/justep/panel/designer/panel",["require","css!./panel","jquery","$UI/system/components/justep/panel/panel","$UI/system/lib/base/component","$UI/system/components/designerCommon/js/xuiService","bind","./child","$UI/system/components/justep/common/designer/common"],function(e){e("css!./panel").load();var t=e("jquery"),n=e("$UI/system/components/justep/panel/panel"),r=e("$UI/system/lib/base/component"),i=e("$UI/system/components/designerCommon/js/xuiService"),s=e("bind"),o=e("./child"),u=e("$UI/system/components/justep/common/designer/common");i.regComponents({"$UI/system/components/justep/panel/panel#top":o,"$UI/system/components/justep/panel/panel#content":o,"$UI/system/components/justep/panel/panel#bottom":o});var a=n.extend({init:function(e,n){var r=this.callParent(e,n),i=this;return this.initStatus(),t(".ctn").mouseover(function(){t(this).addClass("outline")}).mouseout(function(){t(this).removeClass("outline")}),r},initStatus:function(){t(this.domNode).attr("d_resizable","false").attr("d_canAddChild","false"),this.$top=t(">.x-panel-top",this.domNode),this.$content=t(">.x-panel-content",this.domNode),this.$bottom=t(">.x-panel-bottom",this.domNode),this.$top.attr("d_canAddChild","true").attr("d_resizable",!1),this.$content.attr("d_canAddChild","true").attr("d_canRemove",!1).attr("d_resizable",!1).attr("d_selectable",!1),this.$bottom.attr("d_canAddChild","true").attr("d_resizable",!1)},setVisible:function(){},addTop:function(){var e=this.$content.attr("d_id"),n=this;i.getXuiDoc().createComponent("$UI/system/components/justep/panel/panel#top",this,{before:e,paintComponent:!0,autoSelect:!1},function(){t(">.x-panel-content",n.$domNode).css("top",t(">.x-panel-top",n.$domNode).height()),n.initStatus()})},addBottom:function(){var e=this.$content.attr("d_id"),n=this;i.getXuiDoc().createComponent("$UI/system/components/justep/panel/panel#bottom",this,{paintComponent:!0,autoSelect:!1},function(){t(">.x-panel-content",n.$domNode).css("bottom",t(">.x-panel-bottom",n.$domNode).height()),n.initStatus()})},onBuildMenu:function(e){e.enableStatus=e.enableStatus||{},t(">.x-panel-top",this.$el).length>0&&(e.enableStatus.addTop=!1),t(">.x-panel-bottom",this.$el).length>0&&(e.enableStatus.addBottom=!1)}}),f=justep.ViewComponent.extend({init:function(e,t){this.callParent(e,t),this.$domNode.css("backgroundImage")&&(this.$domNode.css("backgroundImage","url("+this.buildSrc(this.$domNode.css("backgroundImage"))+")"),this.$domNode.css("backgroundSize","cover"))},set:function(e){"backgroundImage"in e&&(e["backgroundImage"]==""?this.$domNode.css("backgroundImage",""):(this.$domNode.css("backgroundImage","url("+this.buildSrc(e.backgroundImage)+")"),this.$domNode.css("backgroundSize","cover")))},buildSrc:function(t){return t&&t.indexOf("$UI")!=-1&&(t=e.toUrl(t)),t||""}}),l={"$UI/system/components/justep/panel/panel":{styleConfig:function(e){return[e.getCommonStyleItem("card-style"),{text:"常用布局",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,selectMode:"1",optionData:[{propName:"class",value:"x-full",text:"<button class='btn btn-success' style='margin:6px'>全屏显示</button>"},{propName:"class",value:"",text:"<button class='btn btn-success' style='margin:6px'>非全屏显示</button>"},{propName:"class",value:"x-has-iosstatusbar",text:"<button class='btn btn-success' style='margin:6px'>设置苹果机状态栏同色</button>"}],editor:"listEditor"}]},e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border")]}}},c={"$UI/system/components/justep/panel/panel":{displayName:function(){return"面板"},properties:[],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/panel/panel")},templateContent:function(e){var t="",n=e.parent;n.getAttribute("component")=="$UI/system/components/justep/window/window"&&(t="x-full x-has-iosstatusbar");var r='<div component="$UI/system/components/justep/panel/panel" class="x-panel '+t+'">'+'<div class="x-panel-top" />'+' <div class="x-panel-content">'+" </div>"+' <div class="x-panel-bottom"/>'+" </div>	";return r}},"$UI/system/components/justep/panel/panel#top":{text:"头部区域",displayName:function(e){return"面板头部区域"},properties:["height"],styleConfig:function(e){return[e.getCommonStyleItem("font"),e.getCommonStyleItem("border"),e.getCommonStyleItem("backgroundColor")]}},"$UI/system/components/justep/panel/panel#content":{canRemove:!1,text:"内容区域",displayName:function(e){return"面板内容区域"},properties:["xid",{name:"backgroundImage",text:"背景图片",editor:"imgSelector"}]},"$UI/system/components/justep/panel/panel#bottom":{text:"底部区域",displayName:function(e){return"面板底部区域"},properties:["height"],styleConfig:function(e){return[e.getCommonStyleItem("font"),e.getCommonStyleItem("border"),e.getCommonStyleItem("backgroundColor")]}}};return{"$UI/system/components/justep/panel/panel":a,"$UI/system/components/justep/panel/panel#content":f,quickIdeEx:c,webIdeEx:l}}),define("$model/UI2/system/components/justep/row/designer/row",["require","jquery","css!./row","../row","$UI/system/components/designerCommon/js/xuiService"],function(e){var t=e("jquery");e("css!./row").load();var n=e("../row"),r=e("$UI/system/components/designerCommon/js/xuiService"),i=n.extend({constructor:function(e){this.callParent(),this.domNode=e.templateNode,this.domNode.componentObj=this,this.domNode.setAttribute("d_resizable","false")},addRowAtBefore:function(){var e=t(this.domNode).parent().attr("d_id"),n=t(this.domNode).attr("d_id");r.getXuiDoc().createComponent("$UI/system/components/justep/row/row",e,{paintComponent:!0,before:n})},addRowAtAfter:function(){var e=t(this.domNode).parent().attr("d_id");r.getXuiDoc().createComponent("$UI/system/components/justep/row/row",e,{paintComponent:!0,before:t(this.domNode).next().attr("d_id")})},addCol:function(){r.getXuiDoc().createComponent("$UI/system/components/justep/row/row#col",this,{paintComponent:!0})},dispose:function(){this.domNode.componentObj=null}}),s=function(e){this.domNode=e.templateNode,this.domNode.componentObj=this,this.domNode.setAttribute("d_canAddChild","true")};s.prototype={dispose:function(){this.domNode.componentObj=null},addRow:function(){var e=t(this.domNode).attr("d_id");r.getXuiDoc().createComponent("$UI/system/components/justep/row/row",e,{paintComponent:!0})},addLeftCol:function(){var e=t(this.domNode).attr("d_id"),n=t(this.domNode).parent().attr("d_id");r.getXuiDoc().createComponent("$UI/system/components/justep/row/row#col",n,{paintComponent:!0,beforeDid:e})},addRightCol:function(){var e=t(this.domNode).next().attr("d_id"),n=t(this.domNode).parent().attr("d_id");r.getXuiDoc().createComponent("$UI/system/components/justep/row/row#col",n,{beforeDid:e,paintComponent:!0})}};var o={"$UI/system/components/justep/row/row":{styleConfig:function(e){return[{text:"垂直对齐方式",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,selectMode:"1",optionData:[{propName:"class",value:"x-row-top",text:"<button class='btn btn-success' style='margin:6px'>顶部部对齐</button>"},{propName:"class",value:"x-row-center",text:"<button class='btn btn-success' style='margin:6px'>居中对齐</button>"},{propName:"class",value:"x-row-bottom",text:"<button class='btn btn-success' style='margin:6px'>底部对齐</button>"},{propName:"class",value:"",text:"<button class='btn btn-success' style='margin:6px'>默认</button>"}],editor:"listEditor"}]},{text:"响应样式",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,selectMode:"1",optionData:[{propName:"class",value:"x-responsive-sm",text:"<button class='btn btn-success' style='margin:6px'>手机匹配</button>"},{propName:"class",value:"x-responsive-md",text:"<button class='btn btn-success' style='margin:6px'>平板匹配</button>"},{propName:"class",value:"x-responsive-lg",text:"<button class='btn btn-success' style='margin:6px'>pc端匹配</button>"},{propName:"class",value:"",text:"<button class='btn btn-success' style='margin:6px'>默认</button>"}],editor:"listEditor"}]},e.getCommonStyleItem("baseStyle"),{id:"border",text:"边距",isGroup:!0,items:[{name:"边距",noLabel:!0,selectMode:"0",editor:"marginEditor"}]},e.getCommonStyleItem("border"),e.getCommonStyleItem("position")]}},"$UI/system/components/justep/row/row#col":{styleConfig:function(e){return[e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("font"),{text:"垂直对齐",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,optionData:[{propName:"class",value:"",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:60px'>默认</button>"},{propName:"class",value:"x-col-top",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:60px'>顶端对齐</button>"},{propName:"class",value:"x-col-center",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:60px'>垂直居中</button>"},{propName:"class",value:"x-col-bottom",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:60px'>底端对齐</button>"}],editor:"listEditor"}]},{text:"尺寸样式",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,optionData:[{propName:"class",value:"",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:42px'>默认</button>"},{propName:"class",value:"x-col-10",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:42px'>10%</button>"},{propName:"class",value:"x-col-20",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:42px'>20%</button>"},{propName:"class",value:"x-col-25",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:42px'>25%</button>"},{propName:"class",value:"x-col-33",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:42px'>33%</button>"},{propName:"class",value:"x-col-50",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:42px'>50%</button>"},{propName:"class",value:"x-col-67",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:42px'>67%</button>"},{propName:"class",value:"x-col-75",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:42px'>75%</button>"},{propName:"class",value:"x-col-80",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:42px'>80%</button>"},{propName:"class",value:"x-col-90",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:42px'>90%</button>"},{propName:"class",value:"x-col-fixed",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:42px'>固定</button>"}],editor:"listEditor"}]},{text:"偏移样式",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,optionData:[{propName:"class",value:"",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:54px'>默认</button>"},{propName:"class",value:"x-col-offset-10",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:50px'>10%</button>"},{propName:"class",value:"x-col-offset-20",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:50px'>20%</button>"},{propName:"class",value:"x-col-offset-25",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:50px'>25%</button>"},{propName:"class",value:"x-col-offset-33",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:50px'>33%</button>"},{propName:"class",value:"x-col-offset-50",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:50px'>50%</button>"},{propName:"class",value:"x-col-offset-67",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:50px'>67%</button>"},{propName:"class",value:"x-col-offset-75",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:50px'>75%</button>"},{propName:"class",value:"x-col-offset-80",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:50px'>80%</button>"},{propName:"class",value:"x-col-offset-90",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:50px'>90%</button>"}],editor:"listEditor"}]}]}}},u={"$UI/system/components/justep/row/row":{properties:[{name:"bind-click",text:"点击事件",editor:"eventEditor",noLabel:!0}],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/row/row")},subComps:{}},"$UI/system/components/justep/row/row#col":{text:"列",displayName:function(e){return"列"},properties:["text",{name:"bind-click",text:"点击事件",editor:"eventEditor",noLabel:!0}],styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/row/row#col")}}};return{"$UI/system/components/justep/row/row":i,"$UI/system/components/justep/row/row#col":s,quickIdeEx:u,webIdeEx:o}}),define("$model/UI2/system/components/justep/tabs/designer/tabs",["require","$UI/system/components/justep/common/res","../tabs","$UI/system/components/designerCommon/js/xuiService","jquery","css!./css/tabs"],function(e){e("$UI/system/components/justep/common/res");var t=e("../tabs"),n=e("$UI/system/components/designerCommon/js/xuiService"),r=n.getXuiDoc(),i=e("jquery");e("css!./css/tabs").load(),t=t.extend({init:function(e,t){var n=this.callParent(e,t);return this._initDesignStatus(),n},_initDesignStatus:function(){i(">.x-panel",this.domNode).attr("d_selectable","false"),i(">.x-panel>.x-panel-top",this.domNode).attr("d_selectable","false"),i(">.x-panel>.x-panel-top>.nav",this.domNode).attr("d_selectable","false"),i(">.x-panel>.x-panel-top>.nav,>.x-panel>.x-panel-content>.x-contents",this.domNode).attr("d_canRemove","false").attr("d_resizable","false"),i(">.x-panel>.x-panel-top>.nav>li",this.domNode).attr("d_canRemove","false").attr("d_selectable","false").attr("d_resizable","false"),i(">.x-panel>.x-panel-top>.nav>li>a",this.domNode).attr("d_y_resizable","false")},set:function(e){for(var t in e)t=="label"?(this.domNode.innerHTML=e[t],this._doResize()):t=="row-count"&&(this.buildRows(e[t]),this.$domNode.attr("row-count",e[t]))},addTab:function(){var e=this,t=[],n=r.genaXId("tabContent");t.push({componentName:"li",paintComponent:!0,parentElementId:i(">.x-panel>.x-panel-top>.nav",this.domNode).attr("d_id"),autoSelect:!1,templateContent:'<li><a content="'+n+'">tab1</a></li>'}),r.batchCreateComponent(t,function(){e.setActiveTab(i(">.x-panel>.x-panel-top>.nav>li:last",e.domNode)),e.contents.add(),e._initDesignStatus(),e._doResize()})}});var s=function(e){this.domNode=this.templateNode=e.templateNode,this.domNode.setAttribute("tabindex","0")};s.prototype={onRemove:function(e){if(i("li",this.domNode.parentNode.parentNode).length==1)e.cancel=!0;else{e.cancel=!0;var t=i(this.domNode),n=t.parent().index(),s=this.ownerDesigner.getOwnerComponent(this.domNode.parentNode,"$UI/system/components/justep/tabs/tabs"),o=s.contents.contents[n].$domNode.attr("d_id");r.deleteComponent([o,t.parent().attr("d_id")]),s.contents.remove(n),window.setTimeout(function(){s._doResize()},10)}},set:function(e){for(var t in e)t=="label"?this.domNode.innerHTML=e[t]:t=="content"&&this.domNode.setAttribute("content",e[t])},dispose:function(){alert(434)}};var o={"$UI/system/components/justep/tabs/tabs":{properties:["xid"],events:["onSelect","onBeforeSelect"],toolbar:[{text:"添加tab",method:"addTab"}],styleConfig:function(e){return[e.getCommonStyleItem("pull"),e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("font"),e.getCommonStyleItem("border"),e.getCommonStyleItem("position")]}},"$UI/system/components/justep/tabs/tabs#tabItem":{properties:["xid",{name:"label",text:"页签名称"},{name:"content",text:"内容组件编号"}],styleConfig:function(e){return[e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("font"),e.getCommonStyleItem("border")]}},"$UI/system/components/justep/tabs/tabs#navs":{styleConfig:function(e){return[e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("font"),e.getCommonStyleItem("border")]}}};return{"$UI/system/components/justep/tabs/tabs":t,"$UI/system/components/justep/tabs/tabs#tabItem":s,quickIdeEx:o}}),define("$model/UI2/system/components/justep/scrollView/designer/scrollView",["require","jquery","$UI/system/components/justep/scrollView/scrollView","$UI/system/lib/base/component","$UI/system/components/designerCommon/js/xuiService","css!./scrollView"],function(e){var t=e("jquery"),n=e("$UI/system/components/justep/scrollView/scrollView"),r=e("$UI/system/lib/base/component"),i=e("$UI/system/components/designerCommon/js/xuiService");e("css!./scrollView").load();var s=n.extend({init:function(e,n){this.callParent(e,n),t(this.domNode).attr("d_resizable","false").attr("d_canAddChild","false"),this.ownerDesigner.isInit||(this.$rootEle.addClass("x-scroll-view"),i.getXuiDoc().updateProperties(this.$rootEle.clone(!0).removeClass("active"))),this.$domNode.children().attr("d_canRemove","false").attr("d_selectable","false")},dispose:function(){this.$rootEle.removeClass("x-scroll-view"),i.getXuiDoc().updateProperties(this.$rootEle.clone(!0).removeClass("active")),this.callParent()},enablePullDown:function(){this.$rootEle.attr("supportPullDown",!0),this.$pdEle=t('<div class="x-content-center x-pull-down container"><i class="x-pull-down-img glyphicon x-icon-pull-down"></i><span class="x-pull-down-label">'+this.pullDownLabel+"</span></div>"),this.$scrollEle.prepend(this.$pdEle),i.getXuiDoc().updateProperties(this.$rootEle.clone(!0).removeClass("active")),i.getXuiDoc().updateNodes(this.$pdEle)},enablePullUp:function(){this.$puEle=t('<div class="x-pull-up x-content-center"><span class="x-pull-up-label">'+this.pullUpLabel+"</span></div>"),this.$scrollEle.append(this.$puEle),i.getXuiDoc().updateProperties(this.$rootEle.clone(!0).removeClass("active")),i.getXuiDoc().updateNodes(this.$puEle)},disablePullDown:function(){var e=t(".x-pull-down",this.$scrollEle),n=e.attr("d_id");e.remove(),i.getXuiDoc().deleteComponent([n])},disablePullUp:function(){var e=t(".x-pull-up",this.$scrollEle),n=e.attr("d_id");e.remove(),i.getXuiDoc().deleteComponent([n])},onBuildMenu:function(e){e.enableStatus=e.enableStatus||{},t(".x-pull-down",this.$rootEle).length>0?(e.enableStatus.enablePullDown=!1,e.enableStatus.disablePullDown=!0):(e.enableStatus.enablePullDown=!0,e.enableStatus.disablePullDown=!1),t(".x-pull-up",this.$rootEle).length>0?(e.enableStatus.enablePullUp=!1,e.enableStatus.disablePullUp=!0):(e.enableStatus.enablePullUp=!0,e.enableStatus.disablePullUp=!1)},propertyChangedHandler:function(e,t,n){this.callParent(e,t,n);if(e=="pullDownLabel"){var r=this.$scrollEle.find(".x-pull-down-label");r.text(n),i.getXuiDoc().updateText(r)}else if(e=="pullUpLabel"){var s=this.$scrollEle.find(".x-pull-up-label");s.text(n),i.getXuiDoc().updateText(s)}}});justep.Component.addOperations(s,{reachEndDown:{label:"向下滑动",argsDef:[],method:function(e){}},reachEndUp:{label:"向上滑动",argsDef:[],method:function(e){}}});var o={"$UI/system/components/justep/scrollView/scrollView":{properties:["autoAppend","autoPullUp","pullDownLabel","pullDownMoveLabel","pullDownLoadingLabel","pullUpLabel","pullUpMoveLabel","pullUpLoadingLabel","noMoreLoadLabel"],styleConfig:function(e){return[e.getCommonStyleItem("baseStyle")]},operations:function(){return[{groupName:"滑动操作",items:[{name:"reachEndDown",label:"向下滑动"},{name:"reachEndUp",label:"向上滑动"}]}]}}};return{"$UI/system/components/justep/scrollView/scrollView":s,quickIdeEx:o}}),define("$model/UI2/system/components/justep/select/designer/select",["require","jquery","$UI/system/components/justep/common/designer/common","../select","../radioGroup","../checkboxGroup","$UI/system/components/justep/button/radio","$UI/system/components/justep/button/checkbox","../radioGroupPC","../checkboxGroupPC","$UI/system/components/justep/button/radioPC","$UI/system/components/justep/button/checkboxPC"],function(e){function p(e,r){e.$domNode=t(e.domNode),new r({parentNode:e.domNode,label:"item1"}),new r({parentNode:e.domNode,label:"item2"});var i=n.attr2js(e.$domNode,["itemStyle","itemClass"]);i&&e.set(i)}var t=e("jquery"),n=e("$UI/system/components/justep/common/designer/common"),r=e("../select"),i=e("../radioGroup"),s=e("../checkboxGroup"),o=e("$UI/system/components/justep/button/radio"),u=e("$UI/system/components/justep/button/checkbox"),a=e("../radioGroupPC"),f=e("../checkboxGroupPC"),l=e("$UI/system/components/justep/button/radioPC"),c=e("$UI/system/components/justep/button/checkboxPC"),h=r.extend({doInit:function(e,t,n){},doUpdate:function(e,t,n){}}),d=i.extend({init:function(e,t){p(this,o),this.callParent(e,t)}}),v=s.extend({init:function(e,t){p(this,u),this.callParent(e,t)}}),m=a.extend({init:function(e,t){p(this,l),this.callParent(e,t)}}),g=f.extend({init:function(e,t){p(this,c),this.callParent(e,t)}}),y={"$UI/system/components/justep/select/select":{properties:["bind-ref","bind-labelRef","autoLoad","bind-options","bind-optionsCaption","bind-optionsValue","bind-optionsLabel"],events:[{name:"onChange",text:"值改变事件",editor:"eventEditor",noLabel:!0}],styleConfig:function(e){return[e.getCommonStyleItem("input-size"),e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("font"),e.getCommonStyleItem("position")]}},"$UI/system/components/justep/select/radioGroup":{properties:["bind-ref","bind-itemset","bind-itemsetValue","bind-itemsetLabel"],events:["onChange"],styleConfig:function(e){return[e.getCommonStyleItem("radio-group-size"),e.getCommonStyleItem("radio-group-ext"),e.getCommonStyleItem("radio-group-color"),{text:"排列样式",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,selectMode:"1",optionData:[{propName:"class",value:"",text:"<button class='btn btn-success' style='margin:6px'>水平布局</button>"},{propName:"class",value:"x-radio-group-vertical",text:"<button class='btn btn-success' style='margin:6px'>垂直布局</button>"}],editor:"listEditor"}]},e.getCommonStyleItem("position")]}},"$UI/system/components/justep/select/checkboxGroup":{properties:["bind-ref","bind-itemset","bind-itemsetValue","bind-itemsetLabel"],events:["onChange"],styleConfig:function(e){return[e.getCommonStyleItem("checkbox-group-size"),e.getCommonStyleItem("checkbox-group-ext"),e.getCommonStyleItem("checkbox-group-color"),{text:"排列样式",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,selectMode:"1",optionData:[{propName:"class",value:"",text:"<button class='btn btn-success' style='margin:6px'>水平布局</button>"},{propName:"class",value:"x-checkbox-group-vertical",text:"<button class='btn btn-success' style='margin:6px'>垂直布局</button>"}],editor:"listEditor"}]},e.getCommonStyleItem("position")]}},"$UI/system/components/justep/select/radioGroupPC":{properties:["bind-ref","bind-itemset","bind-itemsetValue","bind-itemsetLabel"],events:["onChange"],styleConfig:function(e){return[{text:"排列方式",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,selectMode:"1",optionData:[{propName:"class",value:"form-inline",text:"<button class='btn btn-success' style='margin:6px'>水平布局</button>"},{propName:"class",value:"",text:"<button class='btn btn-success' style='margin:6px'>垂直布局</button>"}],editor:"listEditor"}]},e.getCommonStyleItem("position")]}},"$UI/system/components/justep/select/checkboxGroupPC":{properties:["bind-ref","bind-itemset","bind-itemsetValue","bind-itemsetLabel"],events:["onChange"],styleConfig:function(e){return[{text:"排列方式",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,selectMode:"1",optionData:[{propName:"class",value:"form-inline",text:"<button class='btn btn-success' style='margin:6px'>水平布局</button>"},{propName:"class",value:"",text:"<button class='btn btn-success' style='margin:6px'>垂直布局</button>"}],editor:"listEditor"}]},e.getCommonStyleItem("position")]}}};return{"$UI/system/components/justep/select/select":h,"$UI/system/components/justep/select/radioGroup":d,"$UI/system/components/justep/select/checkboxGroup":v,"$UI/system/components/justep/select/radioGroupPC":m,"$UI/system/components/justep/select/checkboxGroupPC":g,quickIdeEx:y}}),define("$model/UI2/system/components/justep/numberSelect/designer/numberSelect",["require","jquery","../numberSelect","$UI/system/components/justep/common/designer/common"],function(e){function i(e){e.$domNode=t(e.domNode);var n=r.attr2js(e.$domNode,["placeHolder","disabled"]);n&&e.set(n)}var t=e("jquery"),n=e("../numberSelect"),r=e("$UI/system/components/justep/common/designer/common"),s=n.extend({init:function(e,t){this.callParent(e,t),i(this)},_bindEvent:function(){}}),o={"$UI/system/components/justep/numberSelect/numberSelect":{properties:["bind-ref","min","max",{name:"showItemSize",text:"下拉显示数目"},{name:"showCharSize",text:"数字显示位数"},"placeHolder"],events:["onChange"],styleConfig:function(e){return[{text:"尺寸样式",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,optionData:[{propName:"class",value:"input-lg",text:"<button class='btn btn-success btn-lg' style='margin:6px;width:70px;'>大尺寸</button>"},{propName:"class",value:"",text:"<button class='btn btn-success' style='margin:6px;width:70px;'>默认尺寸</button>"},{propName:"class",value:"input-sm",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:70px;'>小尺寸</button>"}],editor:"listEditor"}]},e.getCommonStyleItem("font"),e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border"),e.getCommonStyleItem("position")]}}};return{"$UI/system/components/justep/numberSelect/numberSelect":s,quickIdeEx:o}}),define("$model/UI2/system/components/justep/textarea/designer/textarea",["require","jquery","../textarea","$UI/system/components/justep/common/designer/common"],function(e){var t=e("jquery"),n=e("../textarea"),r=e("$UI/system/components/justep/common/designer/common"),i=n.extend({init:function(e,n){this.$domNode=t(this.domNode);var i=r.attr2js(this.$domNode,["placeHolder","disabled"]);this.callParent(e,n),i&&this.set(i),this.$domNode.on("keypress paste",function(e){return!1})}}),s={"$UI/system/components/justep/textarea/textarea":{styleConfig:function(e){return[e.getCommonStyleItem("font"),e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border"),e.getCommonStyleItem("position")]}}},o={"$UI/system/components/justep/textarea/textarea":{properties:["bind-ref"],events:[{name:"onChange",text:"值改变事件",editor:"eventEditor",noLabel:!0}],styleConfig:function(e){return[e.getCommonStyleItem("font"),e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border")]}}};return{"$UI/system/components/justep/textarea/textarea":i,webIdeEx:s,quickIdeEx:o}}),define("$model/UI2/system/components/justep/titleBar/designer/titleBar",["require","jquery","../titleBar","$UI/system/components/designerCommon/js/xuiService"],function(e){var t=e("jquery"),n=e("../titleBar"),r=e("$UI/system/components/designerCommon/js/xuiService"),i=r.getXuiDoc(),s=n.extend({init:function(e,t){this.callParent(e,t),this.$title.attr("d_selectable",!0),this.$title.attr("d_canaddchild",!0),this.$title.attr("d_canremove",!1).attr("d_resizable","false").attr("d_canMove","false")},addLeftBtn:function(){var e=this,n=t(this.domNode).find(">.x-titlebar-left").attr("d_id");i.createComponent("$UI/system/components/justep/button/button",n,{paintComponent:!0},function(){e.ownerDesigner.reSelect(e.domNode,!0)})},addRightBtn:function(){var e=this,n=t(this.domNode).find(">.x-titlebar-right").attr("d_id");i.createComponent("$UI/system/components/justep/button/button",n,{paintComponent:!0},function(){e.ownerDesigner.reSelect(e.domNode,!0)})},setTitle:function(e){this.callParent(e),i.updateText(t(">.x-titlebar-title",this.domNode))}}),o={"$UI/system/components/justep/titleBar/titleBar":{styleConfig:function(e){return[e.getCommonStyleItem("font"),e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border"),e.getCommonStyleItem("position")]}},"$UI/system/components/justep/titleBar/titleBar#title":{styleConfig:function(e){return[e.getCommonStyleItem("baseStyle"),{text:"宽度占比样式",id:"preStyle",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,optionData:[{propName:"class",value:"flex1",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:70px;'>flex1</button>"},{propName:"class",value:"flex2",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:70px;'>flex2</button>"},{propName:"class",value:"flex3",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:70px;'>flex3</button>"},{propName:"class",value:"flex4",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:70px;'>flex4</button>"},{propName:"class",value:"flex5",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:70px;'>flex5</button>"},{propName:"class",value:"flex6",text:"<button class='btn btn-success btn-sm' style='margin:6px;width:70px;'>flex6</button>"}],editor:"listEditor"}]},e.getCommonStyleItem("border")]}}},u={"$UI/system/components/justep/titleBar/titleBar":{text:"顶部导航",styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/titleBar/titleBar")},getSubCompConfig:function(e){var n=e.getAttribute("componentname");if(t(e.parentNode).hasClass("x-titlebar-title"))return;if(e.parentNode&&e.parentNode.parentNode&&e.parentNode.parentNode.getAttribute("componentname")=="$UI/system/components/justep/titleBar/titleBar")return this.subComps[n]},subCompPath:[{text:"左边按钮",path:">.x-titlebar-left>*[component='$UI/system/components/justep/button/button']"},{text:"右边按钮",path:">.x-titlebar-right>*[component='$UI/system/components/justep/button/button']"}],subComps:{"$UI/system/components/justep/button/button":{displayName:function(e){return e.label||"按钮"},templateContent:'<a class="btn btn-link btn-icon-left" component="$UI/system/components/justep/button/button"  label="按钮"><i></i><span>按钮</span></a>',styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/button/button",["icon","preStyle","displayStyle","iconPosition","size"])},properties:["xid","label","target","icon",{name:"onClick",text:"点击事件",editor:"eventEditor",noLabel:!0}]}}},"$UI/system/components/justep/titleBar/titleBar#title":{canResize:function(e){return!1},styleConfig:function(e){return e.getCompStyleItems("$UI/system/components/justep/titleBar/titleBar#title")},canAddChild:!0,properties:["text"],events:[{name:"bind-click",text:"点击事件",editor:"eventEditor",noLabel:!0}]}};return{"$UI/system/components/justep/titleBar/titleBar":s,quickIdeEx:u,webIdeEx:o}}),define("$model/UI2/system/components/justep/windowDialog/designer/windowDialog",["require","jquery","../windowDialog","css!./css/windowDialog","$UI/system/components/designerCommon/js/xuiService"],function(e){function s(e,n){var r=t(e.domNode);e.domNode.style.position="absolute",e.domNode.style.top||(e.domNode.style.top="10px",e.domNode.style.left="10px"),r.addClass(n)}var t=e("jquery"),n=e("../windowDialog");e("css!./css/windowDialog").load();var r=e("$UI/system/components/designerCommon/js/xuiService"),i=r.getXuiDoc(),o=n.extend({init:function(e,t){s(this,"x-window-dialog"),this.callParent(e,t)},editMapping:function(e){var t=i.get(this,"src");if(!t){alert("请先设置src属性");return}var n=this;r.openPage("$UI/system/components/justep/windowDialog/designer/editMapping.w",{title:"编辑Mapping",xml:e.nodeXml,modelRoot:e.modelRoot,src:t,height:"80%",width:"80%"},function(e){i.replaceChild(n,e.mapping,{xpathCondition:"*[local-name()='result']",jqCondition:"result",paintComponent:!1})})}}),u={"$UI/system/components/justep/windowDialog/windowDialog":{properties:["xid",{name:"src",editor:"pageUrlEditor"},"title","showTitle","status",{name:"forceRefreshOnOpen",text:"打开刷新窗口"},{name:"width",text:"宽,支持%"},{name:"height",text:"高,支持%"},{name:"top",text:"上偏移,支持%,缺省居中"},{name:"left",text:"左偏移,支持%,缺省居中"},{name:"routable",text:"使用路由"},{name:"resizable",text:"允许调整大小"}],events:["onLoad","onOpen","onClose","onSend","onReceive","onReceived"],toolbar:[{text:"设置数据映射",method:"editMapping"}],operations:function(){return[{groupName:"页面对话框",items:[{name:"open",label:"打开",argExtends:{option:{editor:"jsExpressionEX"}}},{name:"close",label:"关闭"}]}]}}};return{"$UI/system/components/justep/windowDialog/windowDialog":o,quickIdeEx:u}}),define("$model/UI2/system/components/justep/windowReceiver/designer/windowReceiver",["require","jquery","../windowReceiver","css!./css/windowReceiver"],function(e){function r(e,n){var r=t(e.domNode);e.domNode.style.position="absolute",e.domNode.style.top||(e.domNode.style.top="10px",e.domNode.style.left="10px"),r.addClass(n)}var t=e("jquery"),n=e("../windowReceiver");e("css!./css/windowReceiver").load();var i=n.extend({init:function(e,t){r(this,"x-window-receiver"),this.callParent(e,t)}}),s={"$UI/system/components/justep/windowReceiver/windowReceiver":{properties:["xid"]}};return{"$UI/system/components/justep/windowReceiver/windowReceiver":i,quickIdeEx:s}}),define("$model/UI2/system/components/justep/windowRunner/designer/windowRunner",["require","jquery","../windowRunner","css!./css/windowRunner"],function(e){function r(e,n){var r=t(e.domNode);e.domNode.style.position="absolute",e.domNode.style.top||(e.domNode.style.top="10px",e.domNode.style.left="10px"),r.addClass(n)}var t=e("jquery"),n=e("../windowRunner");e("css!./css/windowRunner").load();var i=n.extend({init:function(e,t){r(this,"x-window-runner"),this.callParent(e,t)}}),s={"$UI/system/components/justep/windowRunner/windowRunner":{properties:["xid","src","title","process","activity"]}};return{"$UI/system/components/justep/windowRunner/windowRunner":i,quickIdeEx:s}}),define("$model/UI2/system/components/justep/menu/designer/menu",["require","css!./menu","jquery","../menu","$UI/system/components/designerCommon/js/xuiService"],function(e){e("css!./menu").load();var t=e("jquery"),n=e("../menu"),r=e("$UI/system/components/designerCommon/js/xuiService"),i=n.extend({init:function(e,n){this.callParent(e,n),t(">li",this.$el).attr("d_canAddChild",!1)},addItem:function(){var e=this;r.getXuiDoc().createComponent("$UI/system/components/justep/menu/menu#item",this,{paintComponent:!0},function(n){var r=t(n).attr("d_id"),i=t("*[d_id="+r+"]",e.$el).attr("d_canAddChild",!1)})},addDivider:function(){var e=this;r.getXuiDoc().createComponent("$UI/system/components/justep/menu/menu#divider",this,{paintComponent:!0},function(n){var r=t(n).attr("d_id");t("*[d_id="+r+"]",e.$el).attr("d_canAddChild",!1)})}}),s={"$UI/system/components/justep/menu/menu":{toolbar:[{text:"添加Item",method:"addItem"},{text:"添加分割线",method:"addDivider"}],styleConfig:function(e){return[e.getCommonStyleItem("baseStyle")]}},"$UI/system/components/justep/menu/menu#item":{},"$UI/system/components/justep/menu/menu#divider":{}};return{"$UI/system/components/justep/menu/menu":i,quickIdeEx:s}}),define("$model/UI2/system/components/justep/popOver/designer/popOver",["require","css!./popOver","../popOver","$UI/system/components/justep/common/designer/common"],function(e){e("css!./popOver").load();var t=e("../popOver"),n=e("$UI/system/components/justep/common/designer/common"),r=t.extend({dismissible:!1,constructor:function(){this.callParent(),this.dismissible=!1},init:function(e,t){this.callParent(e,t),this.$el.find(">.x-popOver-overlay:first").attr("d_selectable","false"),this.$el.attr("d_selectable","false"),this.$el.attr("d_canAddChild","false"),this.$overlay.attr("d_canAddChild","false").attr("d_canRemove",!1),this.$content.attr("d_canAddChild","true").attr("d_canRemove",!1);var r=n.attr2js(this.$domNode,["anchor","opacity","position","direction"]);r&&this.set(r),this.callParent(e,t);var i=this.$el.attr("d_id");this.$el.before("<div d_selectable='true' is_mock='true' d_resizable='false' d_canAddChild='false' componentName='"+this.$el.attr("componentname")+"' d_id='"+this.$el.attr("d_id")+"' style='position:absolute;top:10px;left:10px;' class='x-popOver-dialog'></div>"),this.$el.removeAttr("d_id").attr("d_realid",i)},getAnchorCompNode:function(e){var t=$("*[xid='"+e+"']:first")[0];return t},propertyChangedHandler:function(e,t,n){switch(e){case"dismissible":this.dismissible=!1;return;default:}this.callParent(e,t,n)}}),i={"$UI/system/components/justep/popOver/popOver":{text:"浮动区域",properties:["opacity","position",{name:"anchor",editor:"allCompXidEditor"},"direction","dismissible"],operations:function(){return[{groupName:"浮动区域",items:[{name:"show",label:"显示"},{name:"hide",label:"隐藏"}]}]},styleConfig:function(e){return[e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("position")]}}};return{"$UI/system/components/justep/popOver/popOver":r,quickIdeEx:i}}),define("$model/UI2/system/components/justep/popMenu/designer/popMenu",["require","css!./popMenu","../popMenu","$UI/system/components/justep/common/designer/common"],function(e){e("css!./popMenu").load();var t=e("../popMenu"),n=e("$UI/system/components/justep/common/designer/common"),r=t.extend({autoHidable:!1,constructor:function(){this.callParent(),this.dismissible=!1},init:function(e,t){this.callParent(e,t),this.$el.attr("d_canAddChild","false"),this.$overlay.attr("d_canAddChild","false").attr("d_canRemove",!1),this.$content.attr("d_canAddChild","true").attr("d_canRemove",!1);var r=n.attr2js(this.$domNode,["anchor","opacity","position","direction"]);r&&this.set(r),this.callParent(e,t);var i=this.$el.attr("d_id");this.$el.before("<div d_selectable='true' is_mock='true' d_resizable='false' d_canAddChild='false' componentName='"+this.$el.attr("componentname")+"' d_id='"+this.$el.attr("d_id")+"' style='position:absolute;top:10px;left:10px;' class='x-popMenu-dialog'></div>"),this.$el.removeAttr("d_id").attr("d_realid",i)},propertyChangedHandler:function(e,t,n){switch(e){case"dismissible":this.dismissible=!1;return;default:}this.callParent(e,t,n)}}),i={"$UI/system/components/justep/popMenu/popMenu":{text:"右键菜单",properties:["opacity","position",{name:"anchor",editor:"allCompXidEditor"},"direction","dismissible"],operations:function(){return[{groupName:"弹出菜单",items:[{name:"show",label:"显示菜单"},{name:"hide",label:"隐藏菜单"}]}]},styleConfig:function(e){return[e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("position")]}}};return{"$UI/system/components/justep/popMenu/popMenu":r,quickIdeEx:i}}),define("$model/UI2/system/components/justep/wing/designer/wing",["require","jquery","$UI/system/components/justep/wing/wing","$UI/system/components/designerCommon/js/xuiService","../child"],function(e){var t=e("jquery"),n=e("$UI/system/components/justep/wing/wing"),r=e("$UI/system/components/designerCommon/js/xuiService"),i=e("../child");r.regComponents({"$UI/system/components/justep/wing/wing#left":i,"$UI/system/components/justep/wing/wing#content":i,"$UI/system/components/justep/wing/wing#right":i});var s=n.extend({init:function(e,n){this.callParent(e,n),this.animate=!1,this.display="overlay",this.onlyOne="true",t(this.domNode).attr("d_resizable","false").attr("d_canAddChild","false"),this.$left.attr("d_canAddChild","true").attr("d_resizable",!1),this.$content.attr("d_canAddChild","true").attr("d_canRemove",!1).attr("d_resizable",!1).attr("d_selectable",!1),this.$right.attr("d_canAddChild","true").attr("d_resizable",!1)},_showLeft:function(){this.toggleLeft()},_showRight:function(){this.toggleRight()},addLeft:function(){var e=this.$content.attr("d_id"),n=this,i=t(this.domNode).attr("d_id");if(t(this.domNode).find("*[componentname='$UI/system/components/justep/wing/wing#left']").length>0)return;r.getXuiDoc().createComponent("$UI/system/components/justep/wing/wing#left",this,{before:e,paintComponent:!0},function(){n.ownerDesigner.repaintComponent({d_id:i})})},addRight:function(){var e=this.$content.attr("d_id"),n=this,i=t(this.domNode).attr("d_id");if(t(this.domNode).find("*[componentname='$UI/system/components/justep/wing/wing#right']").length>0)return;r.getXuiDoc().createComponent("$UI/system/components/justep/wing/wing#right",this,{before:e,paintComponent:!0},function(){n.ownerDesigner.repaintComponent({d_id:i})})},propertyChangedHandler:function(e,t,n){switch(e){case"animate":break;default:this.callParent(e,t,n)}},onBuildMenu:function(e){e.enableStatus=e.enableStatus||{},t(">.x-wing-left",this.$el).length>0&&(e.enableStatus.addLeft=!1),t(">.x-wing-right",this.$el).length>0&&(e.enableStatus.addRight=!1)}}),o={"$UI/system/components/justep/wing/wing":{styleConfig:function(e){return[{name:"class",noLabel:!1,selectMode:"0",optionData:[{propName:"class",value:"x-wing-xs",text:"<button class='btn btn-default' style='margin:6px'>x-wing-xs</button>"}],editor:"listEditor"},e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border"),e.getCommonStyleItem("position")]}}},u={"$UI/system/components/justep/wing/wing":{properties:["animate","display","routable"],operations:function(){return[{groupName:"wing",items:[{name:"toggleLeft",label:"显示左边栏"},{name:"toggleRight",label:"显示右边栏"}]}]},toolbar:[{text:"左边栏",method:"_showLeft"},{text:"右边栏",method:"_showRight"}],getSubCompConfig:function(e){var t=e.getAttribute("componentname");if(e.parentNode&&e.parentNode.getAttribute("component")=="$UI/system/components/justep/wing/wing")return this.subComps[t];if(e.parentNode&&e.parentNode.parentNode&&e.parentNode.parentNode.getAttribute("component")=="$UI/system/components/justep/wing/wing")return this.subComps[t]},styleConfig:function(e){return[{text:"尺寸样式",noLabel:!1,isGroup:!0,items:[{name:"class",noLabel:!0,selectMode:"1",optionData:[{propName:"class",value:"",text:"<button class='btn btn-success btn-sm' style='margin:6px'>标准尺寸</button>"},{propName:"class",value:"x-wing-xs",text:"<button class='btn btn-success btn-sm' style='margin:6px'>小尺寸</button>"}],editor:"listEditor"}]},e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("border"),e.getCommonStyleItem("position")]},subComps:{"$UI/system/components/justep/wing/wing#left":{text:"左边区域",displayName:function(e){return"左边区域"},properties:["xid"]},"$UI/system/components/justep/wing/wing#right":{text:"右边区域",displayName:function(e){return"右边区域"},properties:["xid"]},"$UI/system/components/justep/contents/contents":{properties:["wrap","swipe","active","slidable","routable"],canAdd:!1}}},"$UI/system/components/justep/wing/wing#content":{text:"内容区域",displayName:function(e){return"内容区域"},canRemove:!1,properties:["xid"]}};return{"$UI/system/components/justep/wing/wing":s,quickIdeEx:u}}),define("$model/UI2/system/components/justep/barcode/designer/barcodeImage",["require","jquery","$UI/system/components/justep/common/designer/common","../barcodeImage"],function(e){var t=e("jquery"),n=e("$UI/system/components/justep/common/designer/common"),r=e("../barcodeImage"),i=r.extend({init:function(e,r){var i=t(this.domNode);i.append("<img class='xui-barcodeImage'/>");var s=n.attr2js(this.$domNode,["type"]),o=this.$domNode.attr("type")?this.$domNode.attr("type"):"{}";this.value=this.getCodeByType(o),this.callParent(e,r),s&&this.set(s)},getCodeByType:function(e){if(e=="code93"||e=="code39"||e=="code128"||e=="pdf417"||e=="datamatrix"||e=="datamatrix")return"abcde";if(e=="codabar"||e=="intl2of5"||e=="postnet")return 18;if(e=="itf14")return 1234567890123;if(e=="upc-a")return 12345678901;if(e=="upc-e"||e=="ean-8"||e=="royal-mail-cbc")return 1234567;if(e=="ean-13"||e=="ean-128")return 123456789012;if(e=="usps4cb")return 0xab54a98ceb1f0800;if(e=="qr")return"中华人民共和国"}}),s={"$UI/system/components/justep/barcode/barcodeImage":{properties:["xid","bind-ref","type",{name:"config",editor:"input"},"stretch",{name:"onRefresh",text:"刷新事件",editor:"eventEditor",noLabel:!0}],styleConfig:function(e){return[e.getCommonStyleItem("baseStyle"),e.getCommonStyleItem("position")]}}};return{"$UI/system/components/justep/barcode/barcodeImage":i,quickIdeEx:s}}),define("$model/UI2/system/components/justep/printHtml/designer/printHtml",["require","jquery","../printHtml","css!./css/printHtml"],function(e){function r(e,n){var r=t(e.domNode);e.domNode.style.position="absolute",e.domNode.style.top||(e.domNode.style.top="10px",e.domNode.style.left="10px"),r.addClass(n)}var t=e("jquery"),n=e("../printHtml");e("css!./css/printHtml").load();var i=n.extend({init:function(e,t){r(this,"x-printHtml"),this.callParent(e,t)}}),s={"$UI/system/components/justep/printHtml/printHtml":{properties:["xid",{name:"target",editor:"contextComponent","editor-parameter":"layout-container","default-value":"window"}],operations:function(){return[{groupName:"页面打印",items:[{name:"print",label:"打印"},{name:"preview",label:"打印预览"}]}]}}};return{"$UI/system/components/justep/printHtml/printHtml":i,quickIdeEx:s}});